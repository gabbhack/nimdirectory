<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">nimzend</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">zend</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">php</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">binding</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">extension</button></a>
                </span>
            
        </p>
        <p class="pkg-desc">some("Native Nim Zend API glue for easy PHP extension development.")</p>
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install nimzend" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><h1>NimZend</h1>
<p>  <em>MIT License - Copyright 2016 Hans Raaf - METATEXX GmbH</em></p>
<p>Pre alpha WIP Nim Module for creating PHP extensions using native Zend (unsupported).</p>
<h2>Basic usage of NimZend</h2>
<p>For development of NimZend modules you should enable <code>dl()</code> (loading of dynamic libraries) in you php.ini. This is the only thing which is not yet handled by the config script. Everything else should work just by calling the nim build tasks from the included config template.</p>
<p>After enabling <code>dl()</code> it should be as easy as changing into the <code>nimext</code> directory of the examples and running <code>nim build nimext.nim</code> followed by <code>nim tests nimext.nim</code>. If all works right your PHP cli will execute the code from the extension.</p>
<p>Code for you module can be as simple as:</p>
<p>File: <code>nimfun.nim</code></p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">import</span> <span class="ide">nimzend</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">nimFun</span>(<span class="ide">a</span>: <span class="ide">int</span>, <span class="ide">b</span>: <span class="ide">int</span>): <span class="ide">ZValArray</span> {<span class="op">.</span><span class="ide">phpfunc</span><span class="op">.</span>} <span class="op">=</span></div></div><div class="line"><div class="line-content">  <span class="ide">result</span>[<span class="str">&quot;add&quot;</span>] <span class="op">=</span> <span class="ide">a</span> <span class="op">+</span> <span class="ide">b</span></div></div><div class="line"><div class="line-content">  <span class="ide">result</span>[<span class="str">&quot;sub&quot;</span>] <span class="op">=</span> <span class="ide">a</span> <span class="op">-</span> <span class="ide">b</span></div></div><div class="line"><div class="line-content">  <span class="ide">result</span>[<span class="str">&quot;concat&quot;</span>] <span class="op">=</span> <span class="op">$</span><span class="ide">a</span> <span class="op">&amp;</span> <span class="op">$</span><span class="ide">b</span></div></div><div class="line"><div class="line-content">  <span class="kwd">var</span> <span class="ide">arr</span> <span class="op">=</span> <span class="ide">zvalArray</span>()</div></div><div class="line"><div class="line-content">  <span class="ide">arr</span><span class="op">.</span><span class="ide">add</span> <span class="ide">a</span></div></div><div class="line"><div class="line-content">  <span class="ide">arr</span><span class="op">.</span><span class="ide">add</span> <span class="ide">b</span></div></div><div class="line"><div class="line-content">  <span class="ide">result</span>[<span class="str">&quot;array&quot;</span>] <span class="op">=</span> <span class="ide">arr</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="ide">finishExtension</span>(<span class="str">&quot;nimfun.so&quot;</span>, <span class="str">&quot;0.1&quot;</span>)</div></div>  </code></pre>
<p>File: <code>config.nims</code></p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="com"># the extension name</span></div></div><div class="line"><div class="line-content"><span class="kwd">var</span> <span class="ide">extensionName</span> <span class="op">=</span> <span class="str">&quot;nimfun&quot;</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># include the configuration template</span></div></div><div class="line"><div class="line-content"><span class="kwd">include</span> <span class="str">&quot;cfgtpl.nims&quot;</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># our tests</span></div></div><div class="line"><div class="line-content"><span class="ide">task</span> <span class="ide">tests</span>, <span class="str">&quot;runs a simple test&quot;</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">setCommand</span> <span class="str">&quot;nop&quot;</span></div></div><div class="line"><div class="line-content">  <span class="ide">exec</span> <span class="ide">phpExe</span> <span class="op">&amp;</span> """ test.php"""</div></div>  </code></pre>
<p>File: <code>test.php</code></p>
<pre>  <code class="language-php">&lt;?php
dl(&quot;nimfun.so&quot;);
print_r(nimFun(124, 111));
</code></pre>
<p>Building, installing and testing the extension is pretty easy</p>
<p>Shell:</p>
<pre>  <code>&gt; nim build nimfun
building ...
installing ...

&gt; nim tests
Array
(
    [add] =&gt; 235
    [sub] =&gt; 13
    [concat] =&gt; 124111
    [array] =&gt; Array
        (
            [0] =&gt; 124
            [1] =&gt; 111
        )

)
</code></pre>
<p>  <em>P.S.: The above code is   <a href="examples/nimfun">here</a></em></p>
<h2>What is supported?</h2>
<p>This is not an auto translation but an manually written Nim interface to the Zend API. Which is itself driven by a huge amount of #define macros.</p>
<p>We only plan to support basic functionality and types for now.</p>
<p>The code support building of PHP 5.3 up to PHP 7.0 extensions with the same Nim source. While out first experiments are mainly for PHP 5.4 this will eventually shift to PHP 7.0. Maybe some day in the future we will remove the support for PHP &lt; 7. After all PHP 5 will be deprecated in August 2016.</p>
<h2>Creating your own NimZend modules</h2>
<p>To create your own modules you can use <code>nimble install</code> in the repository root to install nimzend as a local package. After this you can include both &quot;nimzend.nim&quot; and &quot;cfgtpl.nims&quot; in your modules. Simply copy one of the examples as stand alone directory and adjust the paths to the module to not be relative anymore.</p>
<p>P.S.: We do not support Windows and probably never will. PRs which are not to convoluted may be accepted though.</p>
<p>Have Fun!</p>
<p>  <em>The Team of METATEXX GmbH</em></p>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        MIT
                    </p>
                

                
                    <p> <a href="https://github.com/metatexx/nimzend">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2023-06-04T01:56:02Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
