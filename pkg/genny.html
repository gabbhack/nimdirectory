<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">genny</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">C</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">python</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">node.js</button></a>
                </span>
            
        </p>
        <p class="pkg-desc">some("Generate a shared library and bindings for many languages.")</p>
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install genny" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><img src="docs/gennyBanner.png" style="max-width: 100%;" />
<h1>Genny - Generate Nim library bindings for many languages</h1>
<p>So you made a cool Nim library but you want it to be available to other languages as well. With <code>genny</code> you can generate a dynamically linked library with a simple C API and generated bindings for many languages. In some ways its similar to <a href="http://www.swig.org/">SWIG</a> project for C or <a href="https://github.com/dropbox/djinni">djinni</a> for C++.</p>
<p>  <code>nimble install genny</code></p>
<p>  <img src="https://github.com/treeform/genny/workflows/Github%20Actions/badge.svg" style="max-width: 100%;" alt="Github Actions" /></p>
<p>  <a href="https://treeform.github.io/genny">API reference</a></p>
<p>This library has no dependencies other than the Nim standard library.</p>
<p>See <a href="https://github.com/treeform/pixie/blob/master/pixie.nimble#L16">Pixie&apos;s nimble file</a> for an example of how to compile bindings with <code>genny</code>.</p>
<h2>Supported features and languages:</h2>
<table>
<thead>
<tr>
<th>Language</th>
<th>Method</th>
<th>Enums</th>
<th>Objects</th>
<th>Ref Objects</th>
<th>Seqs</th>
<th>GC</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nim</td>
<td>{.importc.}</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Python</td>
<td>ctypes</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Node.js</td>
<td>ffi-napi</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>no</td>
</tr>
<tr>
<td>C</td>
<td>.h</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>no</td>
</tr></tbody></table>
<h2>Quest for &quot;nice&quot; language binding.</h2>
<p>It would be pretty easy to just export a C API from Nim and have users call the ugly C style methods but that is not our goal with Genny. Instead, we try to generate a &quot;nice&quot; API for each language that feels like it was custom-made. This means, where possible, we:</p>
<ul>
<li>Use naming conventions that are familiar in the language (CamelCase, Snake_Case or Kebab-Case).</li>
<li>Make sure regular <code>object</code>s are passed by value and behave simply.</li>
<li>Make <code>ref object</code>s behave like OOP objects with members, methods and constructors.</li>
<li>Generate helper methods like <code>==</code> or <code>isNull</code>.</li>
<li>Export <code>seq[X]</code> as something that feels like a native array.</li>
<li>Export <code>seq[X]</code> on a <code>ref object</code> behaves like what we call a bound-seq.</li>
<li>Support the <code>[]</code> syntax.</li>
<li>Support the <code>.</code> member syntax.</li>
<li>Overload math operators <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>.</li>
<li>Overload <code>proc</code>s, where we first unpack them to different C calls with unique prefixes and then repack them back into overloaded methods or functions.</li>
<li>Pass optional arguments.</li>
<li>Pass enums and constants.</li>
<li>Synchronize the binding language&apos;s GC and Nim&apos;s ARC GC.</li>
<li>And even copy the comments so that automated tools can use them.</li>
</ul>
<h2>A bindings interface DSL</h2>
<p>Genny provides a DSL that you can use to define how things need to be exported. The DSL is pretty simple to follow:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">import</span> <span class="ide">genny</span>, <span class="ide">pixie</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="ide">exportConsts</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">defaultMiterLimit</span></div></div><div class="line"><div class="line-content">  <span class="ide">autoLineHeight</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="ide">exportEnums</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">FileFormat</span></div></div><div class="line"><div class="line-content">  <span class="ide">BlendMode</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="ide">exportProcs</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">readImage</span></div></div><div class="line"><div class="line-content">  <span class="ide">readmask</span></div></div><div class="line"><div class="line-content">  <span class="ide">readTypeface</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="ide">exportObject</span> <span class="ide">Matrix3</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">constructor</span>:</div></div><div class="line"><div class="line-content">    <span class="ide">matrix3</span></div></div><div class="line"><div class="line-content">  <span class="ide">procs</span>:</div></div><div class="line"><div class="line-content">    <span class="ide">mul</span>(<span class="ide">Matrix3</span>, <span class="ide">Matrix3</span>)</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="ide">exportRefObject</span> <span class="ide">Mask</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">fields</span>:</div></div><div class="line"><div class="line-content">    <span class="ide">width</span></div></div><div class="line"><div class="line-content">    <span class="ide">height</span></div></div><div class="line"><div class="line-content">  <span class="ide">constructor</span>:</div></div><div class="line"><div class="line-content">    <span class="ide">newMask</span>(<span class="ide">int</span>, <span class="ide">int</span>)</div></div><div class="line"><div class="line-content">  <span class="ide">procs</span>:</div></div><div class="line"><div class="line-content">    <span class="ide">writeFile</span>(<span class="ide">Mask</span>, <span class="ide">string</span>)</div></div><div class="line"><div class="line-content">    <span class="ide">copy</span>(<span class="ide">Mask</span>)</div></div><div class="line"><div class="line-content">    <span class="ide">getValue</span></div></div><div class="line"><div class="line-content">    <span class="ide">setValue</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Must have this at the end.</span></div></div><div class="line"><div class="line-content"><span class="ide">writeFiles</span>(<span class="str">&quot;bindings/generated&quot;</span>, <span class="str">&quot;pixie&quot;</span>)</div></div><div class="line"><div class="line-content"><span class="kwd">include</span> <span class="ide">generated</span><span class="op">/</span><span class="ide">internal</span></div></div>  </code></pre>
<p>See more in the <a href="https://github.com/treeform/pixie/blob/master/bindings/bindings.nim">pixie bindings</a></p>
<h2>Genny is experimental and opinionated</h2>
<p>Genny generates a dynamic library C API for your Nim library and generates bindings for that dynamic library in many languages. To do this, things like proc overloads, complex types, sequences, and many other Nim features need to be addressed to make them work over a C interface.</p>
<p>To make that C interface, Genny makes assumptions about what your Nim source looks like and how to give overloaded procedures unique names. This may not work out of the box for every Nim library yet!</p>
<h2>Example uses</h2>
<p>This version of Genny was created to generate bindings for <a href="https://github.com/treeform/pixie">Pixie</a>. You can see how Pixie&apos;s dynamic library API is exported and the bindings generated <a href="https://github.com/treeform/pixie/blob/master/bindings/bindings.nim">in this file</a> and the <a href="https://github.com/treeform/pixie-python">results here</a>.</p>
<h2>Nim is great, why other languages?</h2>
<p>Nim is a niche language. We believe we can broaden Nim&apos;s appeal by creating Nim libraries for other more popular language and have Nim slowly work its way into companies. Maybe after companies see that they already use Nim, they will start writing their own code in it.</p>
<h2>Why add Nim binding support for a Nim library?</h2>
<p>&quot;Can&apos;t you just import your cool library in Nim?&quot; We thought it was important to test the library in a what we call Nim-C-Nim sandwich. It makes sure everyone uses your library API the same way. This also means you could ship huge Nim libraries as DLLs and use them in your Nim programs without recompiling everything every time.</p>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        MIT
                    </p>
                

                
                    <p> <a href="https://github.com/treeform/genny">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2023-10-05T01:08:32Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
