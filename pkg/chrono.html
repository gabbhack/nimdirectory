<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">chrono</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">library</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">timestamp</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">calendar</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">timezone</button></a>
                </span>
            
        </p>
        <p class="pkg-desc">some("Calendars, Timestamps and Timezones utilities.")</p>
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install chrono" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><img src="docs/chronoBanner.png" style="max-width: 100%;" />
<h1>Chrono a Timestamps, Calendars, and Timezones library for nim.</h1>
<p>  <code>nimble install chrono</code></p>
<p>  <img src="https://github.com/treeform/chrono/workflows/Github%20Actions/badge.svg" style="max-width: 100%;" alt="Github Actions" /></p>
<p>  <a href="https://treeform.github.io/chrono">API reference</a></p>
<p>This library has no dependencies other than the Nim standard library.</p>
<h2>About</h2>
<p>Works in <code>c</code>/<code>c++</code> as well as in <code>javascript</code>! All calendar manipulations! Include only the timezones and years you need!</p>
<p>The lowest building block should be the Timestamp of a single float64, not a complex calendar object. You should store Timestamp and transfer Timestamp. Timestamps are always in UTC. Calendar should only be used in time calculation like next month, previous week, 60 days from now… its a display/computation object that should be short lived.</p>
<p>Normalizing a calendar is an easy way to work with it. Its fine to add random days, years, months to the calendar. Its ok to have a calendar with 60 days… just normalize it when you are done. It just spills the days into next month. It’s very easy to do calendar math this way, as you can overflow or underflow calendar fields for a while you work with them.</p>
<p>The date-time format should be easy to understand without having documentation. Is <code>MM</code> month or minute? Is <code>ZZ</code> timezone or seconds? I provide a format that is simple to understand: <code>{year/4}-{month/2}-{day/2}T{hour/2}:{minute/2}:{second/2}Z</code></p>
<p>Adding a timezone to a calendar is complex. There are two ways to do it. They are called apply and shift. Both functions will make your calendar have the new timezone but will effect it differently:</p>
<pre>  <code>applyTimezone: &quot;1970-05-23T21:21:18Z&quot; -&gt; &quot;1970-05-23T14:21:18-07:00&quot;
shiftTimezone: &quot;1970-05-23T21:21:18Z&quot; -&gt; &quot;1970-05-23T21:21:18-07:00&quot;
</code></pre>
<ul>
<li>Apply will not shift your timestamp, so your display time will be different. Useful when some event happens at exact time but you want to display it to different people around the world in their time.</li>
<li>Shift will not change your display time, while shifting your timestamp. Useful for a calendar meetings for example repeat at 9am every week, then give me exact timestamps for it.</li>
</ul>
<p>Be aware of timezone files. On some OSes there is a location where you can get timezone information that is up to date, but that is not the case on Windows and JS-Browser mode. That is why I provide a way to generate timezones from the source and ship them with your JS or native app. It’s an important feature for me.</p>
<p>To generate timezone files use the included tool:</p>
<pre>  <code>nim c -r tools/generate.nim json --startYear:2010 --endYear:2030 --includeOnly:&quot;utc,America/Los_Angeles,America/New_York,America/Chicago,Europe/Dublin&quot;
</code></pre>
<p>You need to include or load the timezones:</p>
<pre>  <code>const tzData = staticRead(&quot;../tzdata/tzdata.json&quot;)
loadTzData(tzData)
</code></pre>
<h2>Parse Timestamps</h2>
<pre>  <code class="language-Nim"><div class="line"><div class="line-content"><span class="kwd">var</span> <span class="ide">ts</span> <span class="op">=</span> <span class="ide">parseTs</span>(</div></div><div class="line"><div class="line-content">  <span class="str">&quot;{year/4}-{month/2}-{day/2}T{hour/2}:{minute/2}:{second/2}Z&quot;</span>,</div></div><div class="line"><div class="line-content">  <span class="str">&quot;1988-02-09T03:34:12Z&quot;</span></div></div><div class="line"><div class="line-content">)</div></div>  </code></pre>
<h2>Format Timestamps</h2>
<pre>  <code class="language-Nim"><div class="line"><div class="line-content"><span class="ide">echo</span> <span class="ide">format</span>(</div></div><div class="line"><div class="line-content">  <span class="ide">ts</span>,</div></div><div class="line"><div class="line-content">  <span class="str">&quot;{year/4}-{month/2}-{day/2}T{hour/2}:{minute/2}:{second/2}Z&quot;</span>,</div></div><div class="line"><div class="line-content">)</div></div>  </code></pre>
<h2>Manipulate Calendars</h2>
<pre>  <code class="language-Nim"><div class="line"><div class="line-content"><span class="kwd">var</span> <span class="ide">cal</span> <span class="op">=</span> <span class="ide">Calendar</span>(<span class="ide">year</span>: <span class="num">2013</span>, <span class="ide">month</span>: <span class="num">12</span>, <span class="ide">day</span>: <span class="num">31</span>, <span class="ide">hour</span>: <span class="num">59</span>, <span class="ide">minute</span>: <span class="num">59</span>, <span class="ide">second</span>: <span class="num">59</span>)</div></div><div class="line"><div class="line-content"><span class="ide">cal</span><span class="op">.</span><span class="ide">add</span>(<span class="ide">Second</span>, <span class="num">20</span>)</div></div><div class="line"><div class="line-content"><span class="ide">cal</span><span class="op">.</span><span class="ide">sub</span>(<span class="ide">Minute</span>, <span class="num">15</span>)</div></div><div class="line"><div class="line-content"><span class="ide">cal</span><span class="op">.</span><span class="ide">add</span>(<span class="ide">Day</span>, <span class="num">40</span>)</div></div><div class="line"><div class="line-content"><span class="ide">cal</span><span class="op">.</span><span class="ide">sub</span>(<span class="ide">Month</span>, <span class="num">120</span>)</div></div><div class="line"><div class="line-content"><span class="ide">cal</span><span class="op">.</span><span class="ide">toStartOf</span>(<span class="ide">Day</span>)</div></div><div class="line"><div class="line-content"><span class="ide">cal</span><span class="op">.</span><span class="ide">toEndOf</span>(<span class="ide">Month</span>)</div></div>  </code></pre>
<h2>Use Timezones</h2>
<pre>  <code class="language-Nim"><div class="line"><div class="line-content"><span class="ide">echo</span> <span class="ide">format</span>(</div></div><div class="line"><div class="line-content">    <span class="ide">ts</span>,</div></div><div class="line"><div class="line-content">    <span class="str">&quot;{year/4}-{month/2}-{day/2}T{hour/2}:{minute/2}:{second/2}Z&quot;</span>,</div></div><div class="line"><div class="line-content">    <span class="ide">tzName</span> <span class="op">=</span> <span class="str">&quot;America/Los_Angeles&quot;</span></div></div><div class="line"><div class="line-content">)</div></div>  </code></pre>
<p>Include only the timezones and years you need:</p>
<pre>  <code class="language-Nim"><div class="line"><div class="line-content"><span class="com"># The year range you want to include</span></div></div><div class="line"><div class="line-content"><span class="kwd">const</span> <span class="ide">startYear</span> <span class="op">=</span> <span class="num">1970</span></div></div><div class="line"><div class="line-content"><span class="kwd">const</span> <span class="ide">endYear</span> <span class="op">=</span> <span class="num">2030</span></div></div><div class="line"><div class="line-content"><span class="com"># Add only time zones you want to include here:</span></div></div><div class="line"><div class="line-content"><span class="kwd">const</span> <span class="ide">includeOnly</span>: <span class="ide">seq</span>[<span class="ide">string</span>] <span class="op">=</span> <span class="op">@</span>[</div></div><div class="line"><div class="line-content">  <span class="str">&quot;utc&quot;</span>,</div></div><div class="line"><div class="line-content">  <span class="str">&quot;America/Los_Angeles&quot;</span>,</div></div><div class="line"><div class="line-content">  <span class="str">&quot;America/New_York&quot;</span></div></div><div class="line"><div class="line-content">]</div></div>  </code></pre>
<p>Then just run <code>nimble generate</code></p>
<h2>Only ship the Timezones you use.</h2>
<p>Time zone information for the whole world is slightly more then a megabyte. But for most applications support every world time zone from 1970 to 2060 is a bit much. You can easily cut down the data generated by running the generate tool:</p>
<pre>  <code>generate json --startYear:2010 --endYear:2030 --includeOnly:&quot;utc,America/Los_Angeles,America/New_York,America/Chicago,Europe/Dublin&quot;
</code></pre>
<p>To just a couple of kilobytes. This is really important for JS backend where you ship the information to the clients.</p>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        MIT
                    </p>
                

                
                    <p> <a href="https://github.com/treeform/chrono">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2023-11-27T01:11:57Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
