<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">matsuri</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">library</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">variant</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">algebraic_data_type</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">pattern_matching</button></a>
                </span>
            
        </p>
        <p class="pkg-desc">some("Useful Variant Type and Powerful Pattern Matching for Nim")</p>
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install matsuri" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><p><strong>Note:</strong> There are several breaking changes planned for this library in the near future. Keep in mind that an update may require you to rewrite much of the code that uses this library.</p>
<h1>Matsuri: Useful Variant Type and Powerful Pattern Matching</h1>
<p><a href="https://circleci.com/gh/zer0-star/matsuri">  <img src="https://circleci.com/gh/zer0-star/matsuri.svg?style=shield" style="max-width: 100%;" alt="CircleCI" /></a>
<a href="https://github.com/yglukhov/nimble-tag">  <img src="https://raw.githubusercontent.com/yglukhov/nimble-tag/master/nimble_js.png" style="max-width: 100%;" alt="nimble" /></a></p>
<p>Matsuri is a library providing variant types and pattern matching inspired by <a href="https://github.com/andreaferretti/patty">Patty</a>.</p>
<p>Matsuri&apos;s pattern matching system is unique. The key of this is the macro <code>customMatcher</code>.</p>
<p>For example, you can use pattern matching as follows:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="ide">match</span> <span class="ide">n</span>: <span class="com"># This colon is NECESSARY!</span></div></div><div class="line"><div class="line-content"><span class="kwd">of</span> <span class="num">1</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="str">&quot;one&quot;</span></div></div><div class="line"><div class="line-content"><span class="kwd">of</span> <span class="num">2</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="str">&quot;two&quot;</span></div></div><div class="line"><div class="line-content"><span class="kwd">of</span> <span class="ide">_</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="str">&quot;something else&quot;</span></div></div>  </code></pre>
<p>This will be converted to the following code by the <code>match</code> macro.</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">let</span> :<span class="ide">tmp</span> <span class="op">=</span> <span class="ide">n</span></div></div><div class="line"><div class="line-content"><span class="kwd">if</span> <span class="ide">customMatcher</span>(:<span class="ide">tmp</span>, <span class="num">1</span>):</div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="str">&quot;one&quot;</span></div></div><div class="line"><div class="line-content"><span class="kwd">elif</span> <span class="ide">customMatcher</span>(:<span class="ide">tmp</span>, <span class="num">2</span>):</div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="str">&quot;two&quot;</span></div></div><div class="line"><div class="line-content"><span class="kwd">elif</span> (<span class="kwd">let</span> <span class="ide">_</span> <span class="op">=</span> :<span class="ide">tmp</span>; <span class="ide">true</span>):</div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="str">&quot;something else&quot;</span></div></div>  </code></pre>
<p>As the argument of the <code>match</code> macro, <code>`x`</code> in <code>of `x`:</code> is converted to <code>(let `x` = :tmp; true)</code> if <code>`x`</code> is an identifier, otherwise <code>customMatcher(:tmp, `x`)</code>.</p>
<p>Next, the macro <code>customMatcher</code> will be expanded depending on <code>:tmp</code>&apos;s type. In this case <code>:tmp</code> is <code>int</code>, so <code>customMatcher(:tmp, `x`)</code> will be converted to <code>:tmp == `x`</code>.</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">let</span> :<span class="ide">tmp</span> <span class="op">=</span> <span class="ide">n</span></div></div><div class="line"><div class="line-content"><span class="kwd">if</span> :<span class="ide">tmp</span> <span class="op">==</span> <span class="num">1</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="str">&quot;one&quot;</span></div></div><div class="line"><div class="line-content"><span class="kwd">elif</span> :<span class="ide">tmp</span> <span class="op">==</span> <span class="num">2</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="str">&quot;two&quot;</span></div></div><div class="line"><div class="line-content"><span class="kwd">elif</span> (<span class="kwd">let</span> <span class="ide">_</span> <span class="op">=</span> :<span class="ide">tmp</span>; <span class="ide">true</span>):</div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="str">&quot;something else&quot;</span></div></div>  </code></pre>
<p>The important thing is that you can define your <code>customMatcher</code> for each type you want to match. This makes Matsuri&apos;s pattern matching very flexible.</p>
<p>When you want to define your <code>customMatcher</code>, you can use the compile-time function <code>matchWrapper</code> which makes a binding or a <code>customMatcher</code> call.</p>
<h2>Variant types</h2>
<p>To define variant types, you can use the <code>variant</code> macro. It&apos;s similar to Patty&apos;s, but this one generates a <code>customMatcher</code> for the variant type.</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="ide">variant</span> <span class="ide">Maybe</span>[<span class="ide">T</span>]:</div></div><div class="line"><div class="line-content">  <span class="ide">Just</span>(<span class="ide">x</span>: <span class="ide">T</span>)</div></div><div class="line"><div class="line-content">  <span class="ide">Nothing</span>()</div></div>  </code></pre>
<p>This will be converted like:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">type</span></div></div><div class="line"><div class="line-content">  <span class="ide">MaybeKind</span> {<span class="op">.</span><span class="ide">pure</span><span class="op">.</span>} <span class="op">=</span> <span class="kwd">enum</span></div></div><div class="line"><div class="line-content">    <span class="ide">Just</span>, <span class="ide">Nothing</span></div></div><div class="line"><div class="line-content"><span class="kwd">type</span></div></div><div class="line"><div class="line-content">  <span class="ide">Maybe</span>[<span class="ide">T</span>] <span class="op">=</span> <span class="kwd">object</span></div></div><div class="line"><div class="line-content">    <span class="kwd">case</span> <span class="ide">kind</span>: <span class="ide">MaybeKind</span></div></div><div class="line"><div class="line-content">    <span class="kwd">of</span> <span class="ide">MaybeKind</span><span class="op">.</span><span class="ide">Just</span>:</div></div><div class="line"><div class="line-content">      <span class="ide">x</span>: <span class="ide">T</span></div></div><div class="line"><div class="line-content">    <span class="kwd">of</span> <span class="ide">MaybeKind</span><span class="op">.</span><span class="ide">Nothing</span>:</div></div><div class="line"><div class="line-content">      <span class="kwd">discard</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">Just</span>[<span class="ide">T</span>](<span class="ide">x</span>: <span class="ide">T</span>): <span class="ide">Maybe</span> <span class="op">=</span></div></div><div class="line"><div class="line-content">  <span class="ide">result</span> <span class="op">=</span> <span class="ide">Maybe</span>[<span class="ide">T</span>](<span class="ide">kind</span>: <span class="ide">MaybeKind</span><span class="op">.</span><span class="ide">Just</span>, <span class="ide">x</span>: <span class="ide">x</span>)</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">Nothing</span>[<span class="ide">T</span>](): <span class="ide">Maybe</span> <span class="op">=</span></div></div><div class="line"><div class="line-content">  <span class="ide">result</span> <span class="op">=</span> <span class="ide">Maybe</span>[<span class="ide">T</span>](<span class="ide">kind</span>: <span class="ide">MaybeKind</span><span class="op">.</span><span class="ide">Nothing</span>)</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> `<span class="op">$</span>`[<span class="ide">T</span>](<span class="ide">val</span>: <span class="ide">Maybe</span>[<span class="ide">T</span>]): <span class="ide">string</span> <span class="op">=</span></div></div><div class="line"><div class="line-content">  <span class="ide">result</span> <span class="op">=</span> <span class="op">$</span><span class="ide">val</span><span class="op">.</span><span class="ide">kind</span> <span class="op">&amp;</span> <span class="str">&quot;(&quot;</span></div></div><div class="line"><div class="line-content">  <span class="kwd">case</span> <span class="ide">val</span><span class="op">.</span><span class="ide">kind</span></div></div><div class="line"><div class="line-content">  <span class="kwd">of</span> <span class="ide">MaybeKind</span><span class="op">.</span><span class="ide">Just</span>:</div></div><div class="line"><div class="line-content">    <span class="ide">result</span> <span class="op">&amp;=</span> <span class="str">&quot;, x: &quot;</span> <span class="op">&amp;</span> <span class="op">$</span><span class="ide">val</span><span class="op">.</span><span class="ide">x</span></div></div><div class="line"><div class="line-content">  <span class="kwd">of</span> <span class="ide">MaybeKind</span><span class="op">.</span><span class="ide">Nothing</span>:</div></div><div class="line"><div class="line-content">  <span class="kwd">if</span> <span class="ide">result</span>[<span class="op">^</span><span class="num">1</span>] <span class="op">==</span> ' ':</div></div><div class="line"><div class="line-content">    <span class="ide">result</span>[<span class="op">^</span><span class="num">2.</span><span class="op">.^</span><span class="num">1</span>] <span class="op">=</span> <span class="str">&quot;)&quot;</span></div></div><div class="line"><div class="line-content">  <span class="kwd">else</span>:</div></div><div class="line"><div class="line-content">    <span class="ide">result</span><span class="op">.</span><span class="ide">add</span> ')'</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> `<span class="op">==</span>`[<span class="ide">T</span>](<span class="ide">lhs</span>, <span class="ide">rhs</span>: <span class="ide">Maybe</span>[<span class="ide">T</span>]): <span class="ide">bool</span> <span class="op">=</span></div></div><div class="line"><div class="line-content">  <span class="kwd">if</span> <span class="ide">lhs</span><span class="op">.</span><span class="ide">kind</span> <span class="op">==</span> <span class="ide">rhs</span><span class="op">.</span><span class="ide">kind</span>:</div></div><div class="line"><div class="line-content">    <span class="kwd">case</span> <span class="ide">lhs</span><span class="op">.</span><span class="ide">kind</span></div></div><div class="line"><div class="line-content">    <span class="kwd">of</span> <span class="ide">MaybeKind</span><span class="op">.</span><span class="ide">Just</span>:</div></div><div class="line"><div class="line-content">      <span class="kwd">return</span> <span class="ide">true</span> <span class="kwd">and</span> <span class="ide">lhs</span><span class="op">.</span><span class="ide">x</span> <span class="op">==</span> <span class="ide">rhs</span><span class="op">.</span><span class="ide">x</span></div></div><div class="line"><div class="line-content">    <span class="kwd">of</span> <span class="ide">MaybeKind</span><span class="op">.</span><span class="ide">Nothing</span>:</div></div><div class="line"><div class="line-content">      <span class="kwd">return</span> <span class="ide">true</span></div></div><div class="line"><div class="line-content">  <span class="kwd">else</span>:</div></div><div class="line"><div class="line-content">    <span class="kwd">return</span> <span class="ide">false</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="kwd">macro</span> <span class="ide">customMatcher</span>(<span class="ide">left</span>: <span class="ide">Maybe</span>; <span class="ide">right</span>: <span class="ide">untyped</span>): <span class="ide">untyped</span> <span class="op">=</span></div></div><div class="line"><div class="line-content">  <span class="kwd">if</span> <span class="ide">right</span>[<span class="num">0</span>]<span class="op">.</span><span class="ide">strVal</span> <span class="op">==</span> <span class="str">&quot;Just&quot;</span>:</div></div><div class="line"><div class="line-content">    <span class="ide">result</span> <span class="op">=</span> <span class="ide">quote</span>:</div></div><div class="line"><div class="line-content">      `<span class="ide">left</span>`<span class="op">.</span><span class="ide">kind</span> <span class="op">==</span> <span class="ide">MaybeKind</span><span class="op">.</span><span class="ide">Just</span></div></div><div class="line"><div class="line-content">    <span class="ide">result</span> <span class="op">=</span> <span class="ide">nnkInfix</span><span class="op">.</span><span class="ide">newTree</span>(</div></div><div class="line"><div class="line-content">      ident"and",</div></div><div class="line"><div class="line-content">      <span class="ide">result</span>,</div></div><div class="line"><div class="line-content">      <span class="ide">matchWrapper</span>(</div></div><div class="line"><div class="line-content">        <span class="ide">quote</span>: `<span class="ide">left</span>`<span class="op">.</span><span class="ide">x</span>,</div></div><div class="line"><div class="line-content">        <span class="ide">right</span>[<span class="num">1</span>]</div></div><div class="line"><div class="line-content">      )</div></div><div class="line"><div class="line-content">    )</div></div><div class="line"><div class="line-content">  <span class="kwd">if</span> <span class="ide">right</span>[<span class="num">0</span>]<span class="op">.</span><span class="ide">strVal</span> <span class="op">==</span> <span class="str">&quot;Nothing&quot;</span>:</div></div><div class="line"><div class="line-content">    <span class="ide">result</span> <span class="op">=</span> <span class="ide">quote</span>:</div></div><div class="line"><div class="line-content">      `<span class="ide">left</span>`<span class="op">.</span><span class="ide">kind</span> <span class="op">==</span> <span class="ide">MaybeKind</span><span class="op">.</span><span class="ide">Nothing</span></div></div>  </code></pre>
<p>The macro <code>customMatcher</code> is generated so that you can use the <code>match</code> macro with variant types.</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="ide">variant</span> <span class="ide">Maybe</span>[<span class="ide">T</span>]:</div></div><div class="line"><div class="line-content">  <span class="ide">Just</span>(<span class="ide">x</span>: <span class="ide">T</span>)</div></div><div class="line"><div class="line-content">  <span class="ide">Nothing</span>()</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="kwd">let</span> <span class="ide">m</span> <span class="op">=</span> <span class="ide">Just</span>(<span class="num">10</span>)</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="ide">match</span> <span class="ide">m</span>:</div></div><div class="line"><div class="line-content"><span class="kwd">of</span> <span class="ide">Just</span>(<span class="ide">x</span>):</div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> fmt"Just {x}"</div></div><div class="line"><div class="line-content"><span class="kwd">of</span> <span class="ide">Nothing</span>():</div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="str">&quot;Nothing&quot;</span></div></div>  </code></pre>
<p>You can export a variant type with the <code>variantp</code> macro, make it <code>ref object</code> type with the <code>variantRef</code> macro, or do both with <code>variantRefp</code> macro.</p>
<h2>Examples</h2>
<p>For more examples, see <a href="https://github.com/zer0-star/matsuri/tree/master/examples">examples</a>.</p>
<h2>Future Work</h2>
<ul>
<li>Rust-like variant types</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="ide">variantRef</span> <span class="ide">Tree</span>[<span class="ide">T</span>]:</div></div><div class="line"><div class="line-content">  <span class="ide">Leaf</span>(<span class="ide">T</span>) <span class="com"># unnamed field</span></div></div><div class="line"><div class="line-content">  <span class="ide">Node</span>{<span class="ide">left</span>: <span class="ide">Tree</span>[<span class="ide">T</span>], <span class="ide">right</span>: <span class="ide">Tree</span>[<span class="ide">T</span>]} <span class="com"># named field</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">depth</span>[<span class="ide">T</span>](<span class="ide">t</span>: <span class="ide">Tree</span>[<span class="ide">T</span>]): <span class="ide">int</span> <span class="op">=</span></div></div><div class="line"><div class="line-content">  <span class="ide">match</span> <span class="ide">t</span>:</div></div><div class="line"><div class="line-content">  <span class="kwd">of</span> <span class="ide">Leaf</span>(<span class="ide">_</span>):</div></div><div class="line"><div class="line-content">    <span class="kwd">return</span> <span class="num">1</span></div></div><div class="line"><div class="line-content">  <span class="kwd">of</span> <span class="ide">Node</span>{<span class="ide">left</span>: <span class="ide">left</span>, <span class="ide">right</span>: <span class="ide">right</span>}:</div></div><div class="line"><div class="line-content">  <span class="com"># Also can write as:</span></div></div><div class="line"><div class="line-content">  <span class="com">#   of Node{left, right}:</span></div></div><div class="line"><div class="line-content">    <span class="kwd">return</span> <span class="num">1</span> <span class="op">+</span> <span class="ide">max</span>(<span class="ide">depth</span>(<span class="ide">left</span>), <span class="ide">depth</span>(<span class="ide">right</span>))</div></div>  </code></pre>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        MIT
                    </p>
                

                
                    <p> <a href="https://github.com/zer0-star/matsuri">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2023-05-25T01:20:01Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
