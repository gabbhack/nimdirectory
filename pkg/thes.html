<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">thes</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">thesaurus</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">definitions</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">graph algorithms</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">graph example</button></a>
                </span>
            
        </p>
        <p class="pkg-desc">some("Thesaurus CLI/Library & Analyzer in Nim")</p>
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install thes" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><h2>Overview</h2>
<p>This is a Nim thesaurus CLI/library &amp; suite of analyzer utilities inspired by
<a href="https://github.com/words/moby/raw/master/words.txt">Moby Thesaurus input data</a>.</p>
<h2>Setup</h2>
<p>Basic usage is to compile <code>thes</code> (which depends on <code>grAlg</code> &amp; <code>cligen</code>) and put
it somewhere in your $PATH.  <code>nimble install thes</code> may do this.  Then, you
download &amp; save the mentioned <code>words.txt</code> file and:</p>
<pre>  <code class="language-sh">$ mkdir $HOME/.config/thes
$ cat &gt; $HOME/.config/thes/config &lt;&lt;EOF
base  = &quot;/u/cb/.config/thes/m&quot;   # m for Moby
limit = 150     # Past this many matches..
types = xRef    #..only show these types.
EOF
# The /dev/null blocks &quot;server/shell/CLI mode&quot;
$ thes -i words.txt -b $HOME/.config/thes/m &lt;/dev/null
</code></pre>
<h2>Usage</h2>
<p>With all of the above, you are now ready for various use cases.  The basic
functionality is seen by something like just:</p>
<pre>  <code>$ thes amuse
beguile  entertain  please  tickle    charm     interest   recreate
convulse exhilarate refresh titillate cheer     quicken
delight  kill       regale  while     enchant   wile
distract knock dead relax   wow       engross   fracture one
divert   loosen up  slay    absorb    fascinate raise a laugh
enliven  occupy     solace  animate   fleet     raise a smile
</code></pre>
<p>The (note -- <em>alphabetical</em>) block from &quot;absorb&quot;..&quot;wile&quot; is hopefully rendered
differently than each before/after block.  This rendering shows the various
kinds of synonym that Moby defines: <strong>reciprocal</strong> (&quot;beguile&quot; lists &quot;amuse&quot; as a
synonym), <strong>defined</strong> (&quot;absorb&quot; has synonyms, but &quot;amuse&quot; is not one of them),
and <strong>undefined</strong> (&quot;recreate&quot; has no synonym list in Moby).</p>
<p><code>thes -h</code> gives a full list of CLI options/behavior.  You can <code>thes -n5 cheer</code>
to see only short synonyms of &quot;cheer&quot;, for example.</p>
<h2>Deeper Analysis</h2>
<p>To do deeper analysis, one can also <code>nimble install</code>
<a href="https://github.com/c-blake/gralg">grAlg</a> and use utility programs in <code>util/</code>.</p>
<p>E.g., to create 4 undirected/reciprocal variants of the pre-parsed data (you
could, of course, also pre-compile <code>symmSyn</code>):</p>
<pre>  <code class="language-sh">$ for kind in r d u a; do
  nim r -d:danger util/symmSyn -a $kind &lt; words.txt &gt; adj.txt
  thes -i adj.txt -b $HOME/.config/thes/$kind &lt; /dev/null
  rm adj.txt
done
</code></pre>
<p>Now you can point <code>thes</code> or various <code>util/</code> programs to <code>--base ~/.config/thes/[rdua]</code> for various styles of undirected thesaurus.  For
example..</p>
<h2>synoPath</h2>
<p>Besides the reciprocity ideas above, one might also think to automatically
enhance/extend a thesaurus by looking for 2-hop synonyms instead of just the
ones registered by people.  This turns out to not work well.  We start with</p>
<pre>  <code class="language-sh">nim r -d:danger util/synoPath r hello farewell
</code></pre>
<p>which shows the path connecting something to its <em>opposite</em> is quite short in
the smallest of our above 5 thesauruses (&apos;r&apos;).  I get just 3 hops here: &quot;hello&quot;
is synonymous with &quot;address&quot; is synonymous with &quot;valedictory&quot; is synonymous with
&quot;farewell&quot;.  &quot;bad&quot;-&quot;good&quot; is even worse - separated by only &quot;OK&quot;.  (Two graph
algos are used mostly to exhibit how much slower Dijkstra is when its weighted
digraph generality is unneeded). { Note: in a wider world than Moby, there is a
tradition of including an antonym category in thesauruses.  This would play well
with the colorization already done in <code>thes</code>, but needs a data source. }</p>
<h2>compon</h2>
<p>You can find many such examples of short synonymity paths.  With the <code>compon</code>
program we can see almost the entire thesaurus is in one large connected
component:</p>
<pre>  <code class="language-sh">nim r -d:danger util/compon r
</code></pre>
<p>Besides <a href="https://en.wikipedia.org/wiki/Random_graph">random graph theory</a> and
the high connectivity in a typical thesaurus, this is likely due to something
deep about sarcasm in human language (especially applied to extremes like &quot;very
something&quot;) as well as due to the aims of thesaurus construction.</p>
<h2>diam</h2>
<p>The short paths between words and their literal opposites may make you curious
about the diameter of the giant component of the undirected graph.  This maximum
shortest path is akin to the &quot;6&quot; in <a href="https://en.wikipedia.org/wiki/Six_degrees_of_separation">six degrees of
separation</a> (&quot;Kevin
Bacon starred in a movie with XYZ&quot;).</p>
<p>Finding the guaranteed correct diameter is expensive since the number of pairs
of words is quite large, but you can get a quick approximation (running in
parallel) with:</p>
<pre>  <code class="language-sh">nim r -d:danger util/diam r 20 4
</code></pre>
<p>The approximation is to pick a random word with at least 20 synonyms (which is
overwhelmingly likely to be in the giant component) and then find the length of
the shortest path from that word to every other word.  The program prints out
word pairs which you can then look at in more detail with <code>synoPath</code>.  You can
also use a first run as the basis to &quot;seed&quot; further runs starting with words you
ended with last time - and as such more likely than random to be on a &quot;thin
fringe&quot; in the graph, like <code>diam r niacin 4</code> gives me a diameter estimate of 9.</p>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        MIT/ISC
                    </p>
                

                
                    <p> <a href="https://github.com/c-blake/thes">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2023-09-16T01:06:11Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
