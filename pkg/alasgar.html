<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">alasgar</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">game</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">engine</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">3d</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">graphics</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">gles</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">opengl</button></a>
                </span>
            
        </p>
        
            <p class="pkg-desc">Game Engine</p>
        
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install alasgar" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><p>  <img src="docs/files/screen-size.gif" style="max-width: 100%;" alt="" /></p>
<h1>alasgar</h1>
<p>alasgar is a pure nim game engine based on OpenGL. The main reason to start developing a new game engine, was to learn graphics programming (first challenge) using nim programming language (second challenge). You can write the whole game logic and also shaders in nim. It supports a few platforms including mobile, web, and desktop. It performs well in the performance tests. It is the journey of a backend/system developer through graphics/game programming.</p>
<h1>Platforms</h1>
<ul>
<li>Linux</li>
<li>Windows</li>
<li>Android</li>
<li>WebAssembly</li>
<li>Mac (work in progress)</li>
<li>iOS (not supoorted)</li>
</ul>
<h2>Experimental game engine</h2>
<p>alasgar is a basic game engine, and it is limited, so it is not ready for production use.</p>
<h2>Installation</h2>
<pre>  <code class="language-bash">nimble install alasgar
</code></pre>
<p>or simply the latest version:</p>
<pre>  <code class="language-bash">nimble install https://github.com/abisxir/alasgar
</code></pre>
<h2>Quick start</h2>
<pre>  <code class="language-bash">git clone https://github.com/abisxir/alasgar.git
cd alasgar/examples
nim c -r hello.nim
</code></pre>
<h1>Table of Contents</h1>
<ul>
<li>  <a href="#window-and-scene-creation">Window and scene creation</a></li>
<li>  <a href="#screen-size">Screen size</a></li>
<li>  <a href="#first-mesh">First mesh</a></li>
<li>  <a href="#point-light">Point light</a></li>
<li>  <a href="#scripts">Scripts</a></li>
<li>  <a href="#material">Material</a></li>
<li>  <a href="#texture">Texture</a></li>
<li>  <a href="#more-lights">More lights</a></li>
<li>  <a href="#access-components">Access components</a></li>
<li>  <a href="#interactive-objects">Interactive objects</a></li>
<li>  <a href="#effects">Effects</a></li>
<li>  <a href="#shadows">Shadows</a></li>
<li>  <a href="#deps">Dependencies</a></li>
</ul>
<h1>Window and scene creation</h1>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">import</span> <span class="ide">alasgar</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Creates a window named Step1</span></div></div><div class="line"><div class="line-content"><span class="ide">window</span>(<span class="str">&quot;Step1&quot;</span>, <span class="num">830</span>, <span class="num">415</span>)</div></div><div class="line"><div class="line-content">   </div></div><div class="line"><div class="line-content"><span class="kwd">let</span> </div></div><div class="line"><div class="line-content">    <span class="com"># Creates a new scene</span></div></div><div class="line"><div class="line-content">    <span class="ide">scene</span> <span class="op">=</span> <span class="ide">newScene</span>()</div></div><div class="line"><div class="line-content">    <span class="com"># Creates camera entity</span></div></div><div class="line"><div class="line-content">    <span class="ide">cameraEntity</span> <span class="op">=</span> <span class="ide">newEntity</span>(<span class="ide">scene</span>, <span class="str">&quot;Camera&quot;</span>)</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Sets camera position</span></div></div><div class="line"><div class="line-content"><span class="ide">cameraEntity</span><span class="op">.</span><span class="ide">transform</span><span class="op">.</span><span class="ide">position</span> <span class="op">=</span> <span class="ide">vec3</span>(<span class="num">5</span>, <span class="num">5</span>, <span class="num">5</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Adds a perspective camera component to entity</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(</div></div><div class="line"><div class="line-content">    <span class="ide">cameraEntity</span>, </div></div><div class="line"><div class="line-content">    <span class="ide">newPerspectiveCamera</span>(</div></div><div class="line"><div class="line-content">        <span class="num">75</span>, </div></div><div class="line"><div class="line-content">        <span class="ide">runtime</span><span class="op">.</span><span class="ide">ratio</span>, </div></div><div class="line"><div class="line-content">        <span class="num">0.1</span>, </div></div><div class="line"><div class="line-content">        <span class="num">100.0</span>, </div></div><div class="line"><div class="line-content">        <span class="ide">vec3</span>(<span class="num">0</span>) <span class="op">-</span> <span class="ide">cameraEntity</span><span class="op">.</span><span class="ide">transform</span><span class="op">.</span><span class="ide">position</span></div></div><div class="line"><div class="line-content">    )</div></div><div class="line"><div class="line-content">)</div></div><div class="line"><div class="line-content"><span class="com"># Makes the camera entity child of the scene</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(<span class="ide">scene</span>, <span class="ide">cameraEntity</span>)</div></div>  </code></pre>
<p>As you see, we instantiate a scene, add a camera to that, and render the created scene. If everything goes right, you will see an empty window with the given size. Run it using the nim compiler:</p>
<pre>  <code class="language-bash">nim c -r main.nim
</code></pre>
<p>Check the <a href="https://abisxir.github.io/alasgar/step1/build">example</a> here.</p>
<p>When you create a window by default it runs in window mode, you can easily enable fullscreen mode:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="com"># Creates a window named Hello and enables fullscreen mode.</span></div></div><div class="line"><div class="line-content"><span class="ide">window</span>(<span class="str">&quot;Hello&quot;</span>, <span class="num">960</span>, <span class="num">540</span>, <span class="ide">fullscreen</span><span class="op">=</span><span class="ide">true</span>)</div></div>  </code></pre>
<h1>Screen size</h1>
<p>By default the screen size is equal with window size, but maybe you like to have a lower resolution:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">import</span> <span class="ide">alasgar</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Creates a window named Hello, and sets screen size to (160, 90)</span></div></div><div class="line"><div class="line-content"><span class="ide">screen</span>(<span class="num">160</span>, <span class="num">90</span>)</div></div><div class="line"><div class="line-content"><span class="ide">window</span>(<span class="str">&quot;Hello&quot;</span>, <span class="num">640</span>, <span class="num">360</span>)</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div>  </code></pre>
<p>  <em>You need to specify it before creating window, after window creation there is no effect when setting the screen size.</em></p>
<p>Let us add a cube to our scene, but to see the cube, it is better if we give a brighter background to our window, it will make it easier to see our meshes before we add lights. So what we do we change scene background and add a cube mesh to our scene:</p>
<h1>First mesh</h1>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="op">...</span></div></div><div class="line"><div class="line-content"><span class="kwd">let</span> </div></div><div class="line"><div class="line-content">    <span class="com"># Creates a new scene</span></div></div><div class="line"><div class="line-content">    <span class="ide">scene</span> <span class="op">=</span> <span class="ide">newScene</span>()</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Sets background color</span></div></div><div class="line"><div class="line-content"><span class="ide">scene</span><span class="op">.</span><span class="ide">background</span> <span class="op">=</span> <span class="ide">parseHex</span>(<span class="str">&quot;d7d1bf&quot;</span>)</div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div><div class="line"><div class="line-content"><span class="com"># Creates cube entity, by default position is 0, 0, 0</span></div></div><div class="line"><div class="line-content"><span class="kwd">let</span> <span class="ide">cubeEntity</span> <span class="op">=</span> <span class="ide">newEntity</span>(<span class="ide">scene</span>, <span class="str">&quot;Cube&quot;</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Add a cube mesh component to entity</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(<span class="ide">cubeEntity</span>, <span class="ide">newCubeMesh</span>())</div></div><div class="line"><div class="line-content"><span class="com"># Makes the cube enity child of the scene</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(<span class="ide">scene</span>, <span class="ide">cubeEntity</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Scale it up</span></div></div><div class="line"><div class="line-content"><span class="ide">cubeEntity</span><span class="op">.</span><span class="ide">transform</span><span class="op">.</span><span class="ide">scale</span> <span class="op">=</span> <span class="ide">vec3</span>(<span class="num">2</span>)</div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div>  </code></pre>
<p>That was all you need to do. If you compile and execute it, you will see an ugly black cube in a window with a slightly better <a href="https://abisxir.github.io/alasgar/step2/build">color</a>. As you guess we need to have a light in our scene to shade our cube. Let us add a point light to our scene:</p>
<h1>Point light</h1>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="op">...</span></div></div><div class="line"><div class="line-content"><span class="com"># Creates the light entity</span></div></div><div class="line"><div class="line-content"><span class="kwd">let</span> <span class="ide">lightEntity</span> <span class="op">=</span> <span class="ide">newEntity</span>(<span class="ide">scene</span>, <span class="str">&quot;Light&quot;</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Sets the light position</span></div></div><div class="line"><div class="line-content"><span class="ide">lightEntity</span><span class="op">.</span><span class="ide">transform</span><span class="op">.</span><span class="ide">position</span> <span class="op">=</span> <span class="ide">vec3</span>(<span class="num">4</span>, <span class="num">5</span>, <span class="num">4</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Adds athe point light component to entity</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(</div></div><div class="line"><div class="line-content">    <span class="ide">lightEntity</span>, </div></div><div class="line"><div class="line-content">    <span class="ide">newPointLightComponent</span>()</div></div><div class="line"><div class="line-content">)</div></div><div class="line"><div class="line-content"><span class="com"># Makes the light entity child of the scene</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(<span class="ide">scene</span>, <span class="ide">lightEntity</span>)</div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div>  </code></pre>
<p>That is all we needed, now our cube maybe is <a href="https://abisxir.github.io/alasgar/step3/build">less ugly</a> now. Lights have some properties, like color, luminance, etc. You change it and you will shade the cube differently.</p>
<h1>Scripts</h1>
<p>To program an entity, we need to add a ScriptComponent to it. Each component has an access to its entity, the entity&apos;s transform and other components added to the entity. We can add a script to any entity using the &quot;program&quot; function or directly by instantiating a ScriptComponent using the &quot;newScriptComponent&quot; function.</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="op">...</span></div></div><div class="line"><div class="line-content"><span class="com"># Adds a script component to the cube entity</span></div></div><div class="line"><div class="line-content"><span class="ide">program</span>(<span class="ide">cubeEntity</span>, <span class="kwd">proc</span>(<span class="ide">script</span>: <span class="ide">ScriptComponent</span>) <span class="op">=</span></div></div><div class="line"><div class="line-content">    <span class="kwd">let</span> <span class="ide">t</span> <span class="op">=</span> <span class="num">2</span> <span class="op">*</span> <span class="ide">runtime</span><span class="op">.</span><span class="ide">age</span></div></div><div class="line"><div class="line-content">    <span class="com"># Rotates the cube using euler angles</span></div></div><div class="line"><div class="line-content">    <span class="ide">script</span><span class="op">.</span><span class="ide">transform</span><span class="op">.</span><span class="ide">euler</span> <span class="op">=</span> <span class="ide">vec3</span>(</div></div><div class="line"><div class="line-content">        <span class="ide">sin</span>(<span class="ide">t</span>),</div></div><div class="line"><div class="line-content">        <span class="ide">cos</span>(<span class="ide">t</span>),</div></div><div class="line"><div class="line-content">        <span class="ide">sin</span>(<span class="ide">t</span>) <span class="op">*</span> <span class="ide">cos</span>(<span class="ide">t</span>),</div></div><div class="line"><div class="line-content">    )</div></div><div class="line"><div class="line-content">)</div></div><div class="line"><div class="line-content"><span class="com"># Makes the cube enity child of the scene</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(<span class="ide">scene</span>, <span class="ide">cubeEntity</span>)</div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div>  </code></pre>
<p>  <img src="https://abisxir.github.io/alasgar/step4/demo.png" style="max-width: 100%;" alt="" /></p>
<p><a href="https://abisxir.github.io/alasgar/step4/build">See</a> now our cube rotates. As you see in the source code, we used an anonymous function to program the entity. You can define a function and use that here. Feel free to play with nim features. As you notice, we directly access transform component from script component. Each entity has a reference to the transform component, and all the components have a reference to their entity. We used Euler angles to change rotation. But also &apos;rotation&apos; as a quat is available in TransformComponent and you can use it if you are looking for troubles:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">type</span></div></div><div class="line"><div class="line-content">    <span class="ide">TransformComponent</span> <span class="op">=</span> <span class="kwd">ref</span> <span class="kwd">object</span> <span class="kwd">of</span> <span class="ide">RootObj</span></div></div><div class="line"><div class="line-content">        <span class="ide">position</span>: <span class="ide">Vec3</span>              <span class="com"># position in local space</span></div></div><div class="line"><div class="line-content">        <span class="ide">scale</span>: <span class="ide">Vec3</span>                 <span class="com"># scale in local space</span></div></div><div class="line"><div class="line-content">        <span class="ide">rotation</span>: <span class="ide">Quat</span>              <span class="com"># rotation in local space</span></div></div><div class="line"><div class="line-content">        <span class="ide">euler</span>: <span class="ide">Vec3</span>                 <span class="com"># write only euler angles in local space</span></div></div><div class="line"><div class="line-content">        <span class="ide">globalPosition</span>: <span class="ide">Vec3</span>        <span class="com"># position in global space</span></div></div><div class="line"><div class="line-content">        <span class="ide">globalScale</span>: <span class="ide">Vec3</span>           <span class="com"># scale in global space</span></div></div><div class="line"><div class="line-content">        <span class="ide">globalRotation</span>: <span class="ide">Quat</span>        <span class="com"># rotation in global space</span></div></div><div class="line"><div class="line-content">        <span class="ide">parent</span>: <span class="ide">TransformComponent</span>  <span class="com"># parent transform, read only</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">lookAt</span><span class="op">*</span>(<span class="ide">t</span>: <span class="ide">TransformComponent</span>, <span class="ide">target</span>: <span class="ide">Vec3</span>)</div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">lookAt</span><span class="op">*</span>(<span class="ide">t</span>: <span class="ide">TransformComponent</span>, <span class="ide">target</span>: <span class="ide">TransformComponent</span>)</div></div>  </code></pre>
<p>In the script we used runtime variable, it is a readonly property that gives us some good information about engine, also has a reference to the running engine&apos;s instance:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">type</span> </div></div><div class="line"><div class="line-content">    <span class="ide">Runtime</span> <span class="op">=</span> <span class="kwd">object</span></div></div><div class="line"><div class="line-content">        <span class="ide">engine</span>: <span class="ide">Engine</span>   <span class="com"># engine instance</span></div></div><div class="line"><div class="line-content">        <span class="ide">age</span>: <span class="ide">float32</span>     <span class="com"># total seconds engine is running</span></div></div><div class="line"><div class="line-content">        <span class="ide">frames</span>: <span class="ide">int</span>      <span class="com"># total frames rendered</span></div></div><div class="line"><div class="line-content">        <span class="ide">fps</span>: <span class="ide">float32</span>     <span class="com"># current fps</span></div></div><div class="line"><div class="line-content">        <span class="ide">delta</span>: <span class="ide">float32</span>   <span class="com"># delta between last two frames</span></div></div><div class="line"><div class="line-content">        <span class="ide">input</span>: <span class="ide">Input</span>     <span class="com"># last input state</span></div></div><div class="line"><div class="line-content">        <span class="ide">ratio</span>: <span class="ide">float32</span>   <span class="com"># screen ratio</span></div></div><div class="line"><div class="line-content">        <span class="ide">windowSize</span>: <span class="ide">Vec2</span> <span class="com"># window size</span></div></div><div class="line"><div class="line-content">        <span class="ide">screenSize</span>: <span class="ide">Vec2</span> <span class="com"># screen size</span></div></div>  </code></pre>
<h1>Material</h1>
<p>We can change the cube color using material components. So what we need is to add a material component to define the cube&apos;s material. There is a sugar member in entity that can automatically define a material for entity when it is called, thanks to nim&apos;s templates and powerful property functions.
I used the chroma library to manipulate colors, it is a great library, <a href="https://abisxir.github.io/alasgar/step5/build">here</a> you can see how to use it.</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="op">...</span></div></div><div class="line"><div class="line-content"><span class="com"># Adds a material if it is not already added and sets the diffuse color</span></div></div><div class="line"><div class="line-content"><span class="ide">cubeEntity</span><span class="op">.</span><span class="ide">material</span><span class="op">.</span><span class="ide">diffuseColor</span> <span class="op">=</span> <span class="ide">parseHtmlName</span>(<span class="str">&quot;Tomato&quot;</span>) </div></div><div class="line"><div class="line-content"><span class="com"># Also is possible to directly instantiate a component and add it to the cube</span></div></div><div class="line"><div class="line-content"><span class="com"># In the case that you prefer to write more code :)</span></div></div><div class="line"><div class="line-content"><span class="com"># addComponent(cubeEntity, newMaterialComponent(diffuseColor=parseHtmlName(&quot;Tomato&quot;)))</span></div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div>  </code></pre>
<p>  <img src="https://abisxir.github.io/alasgar/step5/demo.png" style="max-width: 100%;" alt="" /></p>
<p>Material component contains the following properties:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">type</span> </div></div><div class="line"><div class="line-content">    <span class="ide">MaterialComponent</span> <span class="op">=</span> <span class="kwd">ref</span> <span class="kwd">object</span> <span class="kwd">of</span> <span class="ide">Component</span></div></div><div class="line"><div class="line-content">        <span class="ide">diffuseColor</span>: <span class="ide">Color</span></div></div><div class="line"><div class="line-content">        <span class="ide">specularColor</span>: <span class="ide">Color</span></div></div><div class="line"><div class="line-content">        <span class="ide">emissiveColor</span>: <span class="ide">Color</span></div></div><div class="line"><div class="line-content">        <span class="ide">metallic</span>: <span class="ide">float32</span></div></div><div class="line"><div class="line-content">        <span class="ide">roughness</span>: <span class="ide">float32</span></div></div><div class="line"><div class="line-content">        <span class="ide">reflectance</span>: <span class="ide">float32</span></div></div><div class="line"><div class="line-content">        <span class="ide">ao</span>: <span class="ide">float32</span></div></div><div class="line"><div class="line-content">        <span class="ide">albedoMap</span>: <span class="ide">Texture</span></div></div><div class="line"><div class="line-content">        <span class="ide">normalMap</span>: <span class="ide">Texture</span></div></div><div class="line"><div class="line-content">        <span class="ide">metallicMap</span>: <span class="ide">Texture</span></div></div><div class="line"><div class="line-content">        <span class="ide">roughnessMap</span>: <span class="ide">Texture</span></div></div><div class="line"><div class="line-content">        <span class="ide">aoMap</span>: <span class="ide">Texture</span></div></div><div class="line"><div class="line-content">        <span class="ide">emissiveMap</span>: <span class="ide">Texture</span></div></div><div class="line"><div class="line-content">        <span class="ide">vframes</span>: <span class="ide">int</span></div></div><div class="line"><div class="line-content">        <span class="ide">hframes</span>: <span class="ide">int</span></div></div><div class="line"><div class="line-content">        <span class="ide">frame</span>: <span class="ide">int</span></div></div><div class="line"><div class="line-content">        <span class="ide">castShadow</span>: <span class="ide">bool</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Instantiate a material component</span></div></div><div class="line"><div class="line-content"><span class="kwd">func</span> <span class="ide">newMaterialComponent</span>(<span class="ide">diffuseColor</span>: <span class="ide">Color</span><span class="op">=</span><span class="ide">COLOR_WHITE</span>, </div></div><div class="line"><div class="line-content">                          <span class="ide">specularColor</span>: <span class="ide">Color</span><span class="op">=</span><span class="ide">COLOR_WHITE</span>, </div></div><div class="line"><div class="line-content">                          <span class="ide">emissiveColor</span>: <span class="ide">Color</span><span class="op">=</span><span class="ide">COLOR_BLACK</span>,</div></div><div class="line"><div class="line-content">                          <span class="ide">albedoMap</span>: <span class="ide">Texture</span> <span class="op">=</span> <span class="kwd">nil</span>, </div></div><div class="line"><div class="line-content">                          <span class="ide">normalMap</span>: <span class="ide">Texture</span> <span class="op">=</span> <span class="kwd">nil</span>, </div></div><div class="line"><div class="line-content">                          <span class="ide">metallicMap</span>: <span class="ide">Texture</span> <span class="op">=</span> <span class="kwd">nil</span>, </div></div><div class="line"><div class="line-content">                          <span class="ide">roughnessMap</span>: <span class="ide">Texture</span> <span class="op">=</span> <span class="kwd">nil</span>, </div></div><div class="line"><div class="line-content">                          <span class="ide">aoMap</span>: <span class="ide">Texture</span> <span class="op">=</span> <span class="kwd">nil</span>, </div></div><div class="line"><div class="line-content">                          <span class="ide">emissiveMap</span>: <span class="ide">Texture</span> <span class="op">=</span> <span class="kwd">nil</span>, </div></div><div class="line"><div class="line-content">                          <span class="ide">metallic</span>: <span class="ide">float32</span> <span class="op">=</span> <span class="num">0.0</span>,</div></div><div class="line"><div class="line-content">                          <span class="ide">roughness</span>: <span class="ide">float32</span> <span class="op">=</span> <span class="num">0.0</span>,</div></div><div class="line"><div class="line-content">                          <span class="ide">reflectance</span>: <span class="ide">float32</span> <span class="op">=</span> <span class="num">0.0</span>,</div></div><div class="line"><div class="line-content">                          <span class="ide">shininess</span>: <span class="ide">float32</span> <span class="op">=</span> <span class="num">128.0</span>,</div></div><div class="line"><div class="line-content">                          <span class="ide">ao</span>: <span class="ide">float32</span> <span class="op">=</span> <span class="num">1.0</span>,</div></div><div class="line"><div class="line-content">                          <span class="ide">frame</span>: <span class="ide">int</span><span class="op">=</span><span class="num">0</span>,</div></div><div class="line"><div class="line-content">                          <span class="ide">vframes</span>: <span class="ide">int</span><span class="op">=</span><span class="num">1</span>,</div></div><div class="line"><div class="line-content">                          <span class="ide">hframes</span>: <span class="ide">int</span><span class="op">=</span><span class="num">1</span>,</div></div><div class="line"><div class="line-content">                          <span class="ide">castShadow</span>: <span class="ide">bool</span><span class="op">=</span><span class="ide">false</span>)</div></div>  </code></pre>
<p>If roughness and metallic factors are zero also there is no metallic map and roughness map provided then the shader will use shininess and shades with phong model otherwise will be PBR. vfames, hframes, and frame is used to offset texture, very helpful for sprites or animations, will discuss it later in the sprites section.</p>
<h1>Texture</h1>
<p>It is time to give texture to our cube. To make it multi-platform you need to make &quot;res&quot; folder in your project root and copy all of your assets inside that folder with the desired heirarchy. Then the assets will be accessible using a relative path by res like &quot;res://texture.png&quot;. It applies to all other assets like obj files, audio files or text files.</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="op">...</span></div></div><div class="line"><div class="line-content"><span class="com"># Sets the diffuse color</span></div></div><div class="line"><div class="line-content"><span class="ide">cubeEntity</span><span class="op">.</span><span class="ide">material</span><span class="op">.</span><span class="ide">diffuseColor</span> <span class="op">=</span> <span class="ide">parseHtmlName</span>(<span class="str">&quot;White&quot;</span>) </div></div><div class="line"><div class="line-content"><span class="com"># Sets albedo map</span></div></div><div class="line"><div class="line-content"><span class="ide">cubeEntity</span><span class="op">.</span><span class="ide">material</span><span class="op">.</span><span class="ide">albedoMap</span> <span class="op">=</span> <span class="ide">newTexture</span>(<span class="str">&quot;res://brickwall-albedo.jpg&quot;</span>)</div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div>  </code></pre>
<p>  <img src="https://abisxir.github.io/alasgar/step6/demo.png" style="max-width: 100%;" alt="" /></p>
<p>If you run the sample, you will see a <a href="https://abisxir.github.io/alasgar/step6/build">textured</a> cube which is not that much ugly this time but still there are a lot to improve.</p>
<p>The texture used here, grabbed from: https://publicdomaintextures.com/elementor-112/tiles08</p>
<h1>More lights</h1>
<p>As you see our scene has just one point light but there are other types of lights:</p>
<ul>
<li>Direct lights</li>
<li>Spot lights</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="com">## Creates point lights</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newPointLightComponent</span><span class="op">*</span>(<span class="ide">color</span>: <span class="ide">Color</span><span class="op">=</span><span class="ide">COLOR_MILK</span>, <span class="ide">luminance</span><span class="op">=</span><span class="num">100.0</span>): <span class="ide">PointLightComponent</span></div></div><div class="line"><div class="line-content"><span class="com">## Creates direct lights</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newDirectLightComponent</span><span class="op">*</span>(<span class="ide">direction</span>: <span class="ide">Vec3</span>, </div></div><div class="line"><div class="line-content">                              <span class="ide">color</span>: <span class="ide">Color</span><span class="op">=</span><span class="ide">COLOR_MILK</span>, </div></div><div class="line"><div class="line-content">                              <span class="ide">luminance</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">100.0</span>, </div></div><div class="line"><div class="line-content">                              <span class="ide">shadow</span>: <span class="ide">bool</span><span class="op">=</span><span class="ide">false</span>,</div></div><div class="line"><div class="line-content">                              <span class="ide">shadowBias</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">0.001</span>): <span class="ide">DirectLightComponent</span></div></div><div class="line"><div class="line-content"><span class="com">## Creates spot point lights</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newSpotPointLightComponent</span><span class="op">*</span>(<span class="ide">direction</span>: <span class="ide">Vec3</span>,</div></div><div class="line"><div class="line-content">                                 <span class="ide">color</span>: <span class="ide">Color</span><span class="op">=</span><span class="ide">COLOR_MILK</span>, </div></div><div class="line"><div class="line-content">                                 <span class="ide">luminance</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">50.0</span>,</div></div><div class="line"><div class="line-content">                                 <span class="ide">innerCutoff</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">30</span>, </div></div><div class="line"><div class="line-content">                                 <span class="ide">outerCutoff</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">45</span>,</div></div><div class="line"><div class="line-content">                                 <span class="ide">shadow</span>: <span class="ide">bool</span><span class="op">=</span><span class="ide">false</span>,</div></div><div class="line"><div class="line-content">                                 <span class="ide">shadowBias</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">0.001</span>): <span class="ide">SpotPointLightComponent</span></div></div>  </code></pre>
<p>For now shadowing is just implemented for direct lights and spot point lights. Point lights are resource hungary and much heavy compared to direct lights, needs 6 times rendering the scene. Some tricks can applied but still heavy specially for webgl but will be implemented soon.</p>
<h1>Access components</h1>
<p>Let us program the point light&apos;s entity and access to the its component and just for fun change the light color and luminance. To access a component we can call get[T] on an entity or a component. Also, it is possible to access it using the index operator on any entity or component:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">let</span> <span class="ide">c</span> <span class="op">=</span> <span class="ide">get</span>[<span class="ide">MyComponent</span>](<span class="ide">e</span>)</div></div>  </code></pre>
<p>Or simply using an index operator:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">let</span> <span class="ide">c</span> <span class="op">=</span> <span class="ide">e</span>[<span class="ide">MyComponent</span>]</div></div>  </code></pre>
<p>If there is no such a component, it will return nil. Let us try it by adding a script component to our point light to program it:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="op">...</span></div></div><div class="line"><div class="line-content"><span class="com"># Adds a script component to the point light entity</span></div></div><div class="line"><div class="line-content"><span class="ide">program</span>(<span class="ide">lightEntity</span>, <span class="kwd">proc</span>(<span class="ide">script</span>: <span class="ide">ScriptComponent</span>) <span class="op">=</span></div></div><div class="line"><div class="line-content">    <span class="kwd">let</span> </div></div><div class="line"><div class="line-content">        <span class="ide">t</span> <span class="op">=</span> <span class="ide">runtime</span><span class="op">.</span><span class="ide">age</span></div></div><div class="line"><div class="line-content">        <span class="com"># Access to the point light component.</span></div></div><div class="line"><div class="line-content">        <span class="ide">light</span> <span class="op">=</span> <span class="ide">script</span>[<span class="ide">PointLightComponent</span>]</div></div><div class="line"><div class="line-content">    <span class="com"># Or you can access it by calling getComponent function:</span></div></div><div class="line"><div class="line-content">    <span class="com"># let light = get[PointLightComponent](script)</span></div></div><div class="line"><div class="line-content">    <span class="com"># Changes light color</span></div></div><div class="line"><div class="line-content">    <span class="ide">light</span><span class="op">.</span><span class="ide">color</span> <span class="op">=</span> <span class="ide">color</span>(</div></div><div class="line"><div class="line-content">        <span class="ide">abs</span>(<span class="ide">sin</span>(<span class="ide">t</span>)), </div></div><div class="line"><div class="line-content">        <span class="num">1</span>, </div></div><div class="line"><div class="line-content">        <span class="ide">abs</span>(<span class="ide">cos</span>(<span class="ide">t</span>))</div></div><div class="line"><div class="line-content">    )</div></div><div class="line"><div class="line-content">)</div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div>  </code></pre>
<p>  <img src="https://abisxir.github.io/alasgar/step7/demo.png" style="max-width: 100%;" alt="" /></p>
<p>If you <a href="https://abisxir.github.io/alasgar/step7/build">execute</a> the last example, you will notice that the color is changing.</p>
<h1>Interactive objects</h1>
<p>There is a very simple implementation for interacting with objects in alasgar. As it always works with components, to interact with a game object we need to add an InteractiveComponent to our entity:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">type</span></div></div><div class="line"><div class="line-content">    <span class="ide">InteractionHandleProc</span><span class="op">*</span> <span class="op">=</span> <span class="kwd">proc</span>(<span class="ide">component</span>: <span class="ide">InteractiveComponent</span>, <span class="ide">collision</span>: <span class="ide">Collision</span>)</div></div><div class="line"><div class="line-content">    <span class="ide">OutHandleProc</span><span class="op">*</span> <span class="op">=</span> <span class="kwd">proc</span>(<span class="ide">component</span>: <span class="ide">InteractiveComponent</span>)</div></div><div class="line"><div class="line-content">    <span class="ide">InteractiveComponent</span><span class="op">*</span> <span class="op">=</span> <span class="kwd">ref</span> <span class="kwd">object</span> <span class="kwd">of</span> <span class="ide">Component</span></div></div><div class="line"><div class="line-content">        <span class="ide">hover</span><span class="op">*:</span> <span class="ide">bool</span></div></div><div class="line"><div class="line-content">        <span class="ide">pressed</span><span class="op">*:</span> <span class="ide">bool</span></div></div><div class="line"><div class="line-content">        <span class="ide">pressStartTime</span><span class="op">*:</span> <span class="ide">float</span></div></div><div class="line"><div class="line-content">        <span class="ide">pressEndTime</span><span class="op">*:</span> <span class="ide">float</span></div></div><div class="line"><div class="line-content">        <span class="ide">input</span>: <span class="ide">Input</span></div></div><div class="line"><div class="line-content">        <span class="ide">onHover</span>: <span class="ide">InteractionHandleProc</span></div></div><div class="line"><div class="line-content">        <span class="ide">onOut</span>: <span class="ide">OutHandleProc</span></div></div><div class="line"><div class="line-content">        <span class="ide">onMotion</span>: <span class="ide">InteractionHandleProc</span></div></div><div class="line"><div class="line-content">        <span class="ide">onPress</span>: <span class="ide">InteractionHandleProc</span></div></div><div class="line"><div class="line-content">        <span class="ide">onRelease</span>: <span class="ide">InteractionHandleProc</span></div></div>  </code></pre>
<p>So we can instantiate the component and with the hooks are available we can react to user interaction with objects. There is also some sugar functions to make our life easier:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> `<span class="ide">onHover</span><span class="op">=</span>`<span class="op">*</span>(<span class="ide">e</span>: <span class="ide">Entity</span>, <span class="ide">f</span>: <span class="ide">InteractionHandleProc</span>)</div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> `<span class="ide">onOut</span><span class="op">=</span>`<span class="op">*</span>(<span class="ide">e</span>: <span class="ide">Entity</span>, <span class="ide">f</span>: <span class="ide">OutHandleProc</span>) </div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> `<span class="ide">onMotion</span><span class="op">=</span>`<span class="op">*</span>(<span class="ide">e</span>: <span class="ide">Entity</span>, <span class="ide">f</span>: <span class="ide">InteractionHandleProc</span>) </div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> `<span class="ide">onPress</span><span class="op">=</span>`<span class="op">*</span>(<span class="ide">e</span>: <span class="ide">Entity</span>, <span class="ide">f</span>: <span class="ide">InteractionHandleProc</span>)</div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> `<span class="ide">onRelease</span><span class="op">=</span>`<span class="op">*</span>(<span class="ide">e</span>: <span class="ide">Entity</span>, <span class="ide">f</span>: <span class="ide">InteractionHandleProc</span>)</div></div>  </code></pre>
<p>Let us define two functions and when user hovers on our cube change the emissive color:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="op">...</span></div></div><div class="line"><div class="line-content"><span class="com"># Handles mouse hover in</span></div></div><div class="line"><div class="line-content"><span class="ide">cubeEntity</span><span class="op">.</span><span class="ide">onHover</span> <span class="op">=</span> <span class="kwd">proc</span>(<span class="ide">ic</span>: <span class="ide">InteractiveComponent</span>, <span class="ide">co</span>: <span class="ide">Collision</span>) <span class="op">=</span></div></div><div class="line"><div class="line-content">    <span class="ide">ic</span>[<span class="ide">MaterialComponent</span>]<span class="op">.</span><span class="ide">emissiveColor</span> <span class="op">=</span> <span class="ide">color</span>(<span class="num">0.6</span>, <span class="num">0.6</span>, <span class="num">0.0</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Handles mouse hover out</span></div></div><div class="line"><div class="line-content"><span class="ide">cubeEntity</span><span class="op">.</span><span class="ide">onOut</span> <span class="op">=</span> <span class="kwd">proc</span>(<span class="ide">ic</span>: <span class="ide">InteractiveComponent</span>)<span class="op">=</span></div></div><div class="line"><div class="line-content">    <span class="ide">ic</span>[<span class="ide">MaterialComponent</span>]<span class="op">.</span><span class="ide">emissiveColor</span> <span class="op">=</span> <span class="ide">parseHtmlName</span>(<span class="str">&quot;black&quot;</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Adds a bounding box component to the cube entity, uses mesh bounds</span></div></div><div class="line"><div class="line-content"><span class="ide">addBoundingSphere</span>(<span class="ide">cubeEntity</span>)</div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div>  </code></pre>
<p>  <img src="https://abisxir.github.io/alasgar/step8/demo.png" style="max-width: 100%;" alt="" /></p>
<p>That is all, as you <a href="https://abisxir.github.io/alasgar/step8/build">see</a>, we have two functions to handle mouse&apos;s in and out events. To make interactive components working, you need to add a collision component. Alsgar supports just two types, AABB and sphere. Here we used helper functions to code less but like everywhere else you can add components using the core functions to have more control over it.</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="com">## Instantiate a collision component with bounding sphere using radius</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newCollisionComponent</span><span class="op">*</span>(<span class="ide">radius</span>: <span class="ide">float32</span>, <span class="ide">offset</span>: <span class="ide">Vec3</span><span class="op">=</span><span class="ide">VEC3_ZERO</span>): <span class="ide">CollisionComponent</span> </div></div><div class="line"><div class="line-content"><span class="com">## Instantiate a collision component with box bounding using min and max</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newCollisionComponent</span><span class="op">*</span>(<span class="ide">vMin</span>, <span class="ide">vMax</span>: <span class="ide">Vec3</span>, <span class="ide">offset</span>: <span class="ide">Vec3</span><span class="op">=</span><span class="ide">VEC3_ZERO</span>): <span class="ide">CollisionComponent</span></div></div><div class="line"><div class="line-content"><span class="com">## Adds a collision component with bounding box to entity uses mesh information when available</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">addBoundingBox</span><span class="op">*</span>(<span class="ide">e</span>: <span class="ide">Entity</span>)</div></div><div class="line"><div class="line-content"><span class="com">## Adds a collision component with bounding sphere to entity uses mesh information when available</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">addBoundingSphere</span><span class="op">*</span>(<span class="ide">e</span>: <span class="ide">Entity</span>)</div></div>  </code></pre>
<h1>Effects</h1>
<p>Effects can be attached to a camera and are nim functions which will be translated to GLSL functions on compile time so you can fix errors before running the application, thanks to <a href="https://github.com/treeform/shady">shady</a>. Let us add a snow effect to our camera. First we create a nim module named snow.nim:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="com"># snow.nim</span></div></div><div class="line"><div class="line-content"><span class="kwd">import</span> <span class="ide">alasgar</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Direct translation of https://www.shadertoy.com/view/4sX3z2 to nim</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">snowEffect</span><span class="op">*</span>(<span class="ide">CAMERA</span>: <span class="ide">Uniform</span>[<span class="ide">Camera</span>],</div></div><div class="line"><div class="line-content">                 <span class="ide">FRAME</span>: <span class="ide">Uniform</span>[<span class="ide">Frame</span>],</div></div><div class="line"><div class="line-content">                 <span class="ide">COLOR_CHANNEL</span>: <span class="ide">Layout</span>[<span class="num">0</span>, <span class="ide">Uniform</span>[<span class="ide">Sampler2D</span>]],</div></div><div class="line"><div class="line-content">                 <span class="ide">NORMAL_CHANNEL</span>: <span class="ide">Layout</span>[<span class="num">1</span>, <span class="ide">Uniform</span>[<span class="ide">Sampler2D</span>]],</div></div><div class="line"><div class="line-content">                 <span class="ide">DEPTH_CHANNEL</span>: <span class="ide">Layout</span>[<span class="num">2</span>, <span class="ide">Uniform</span>[<span class="ide">Sampler2D</span>]],</div></div><div class="line"><div class="line-content">                 <span class="ide">UV</span>: <span class="ide">Vec2</span>,</div></div><div class="line"><div class="line-content">                 <span class="ide">COLOR</span>: <span class="kwd">var</span> <span class="ide">Vec4</span>) <span class="op">=</span></div></div><div class="line"><div class="line-content">    <span class="kwd">var</span> </div></div><div class="line"><div class="line-content">        <span class="ide">fragCoord</span> <span class="op">=</span> <span class="ide">UV</span> <span class="op">*</span> <span class="ide">FRAME</span><span class="op">.</span><span class="ide">RESOLUTION</span><span class="op">.</span><span class="ide">xy</span></div></div><div class="line"><div class="line-content">        <span class="ide">snow</span> <span class="op">=</span> <span class="num">0.0</span></div></div><div class="line"><div class="line-content">        <span class="ide">gradient</span> <span class="op">=</span> (<span class="num">1.0</span> <span class="op">-</span> <span class="ide">float</span>(<span class="ide">fragCoord</span><span class="op">.</span><span class="ide">y</span> <span class="op">/</span> <span class="ide">FRAME</span><span class="op">.</span><span class="ide">RESOLUTION</span><span class="op">.</span><span class="ide">x</span>)) <span class="op">*</span> <span class="num">0.4</span></div></div><div class="line"><div class="line-content">        <span class="ide">random</span> <span class="op">=</span> <span class="ide">fract</span>(<span class="ide">sin</span>(<span class="ide">dot</span>(<span class="ide">fragCoord</span><span class="op">.</span><span class="ide">xy</span>, <span class="ide">vec2</span>(<span class="num">12.9898</span>,<span class="num">78.233</span>))) <span class="op">*</span> <span class="num">43758.5453</span>)</div></div><div class="line"><div class="line-content">    <span class="kwd">for</span> <span class="ide">k</span> <span class="kwd">in</span> <span class="num">0.</span><span class="op">.</span><span class="num">5</span>:</div></div><div class="line"><div class="line-content">        <span class="kwd">for</span> <span class="ide">i</span> <span class="kwd">in</span> <span class="num">0.</span><span class="op">.</span><span class="num">11</span>:</div></div><div class="line"><div class="line-content">            <span class="kwd">var</span> </div></div><div class="line"><div class="line-content">                <span class="ide">cellSize</span> <span class="op">=</span> <span class="num">2.0</span> <span class="op">+</span> (<span class="ide">float</span>(<span class="ide">i</span>) <span class="op">*</span> <span class="num">3.0</span>)</div></div><div class="line"><div class="line-content">                <span class="ide">downSpeed</span> <span class="op">=</span> <span class="num">0.3</span> <span class="op">+</span> (<span class="ide">sin</span>(<span class="ide">FRAME</span><span class="op">.</span><span class="ide">TIME</span> <span class="op">*</span> <span class="num">0.4</span> <span class="op">+</span> <span class="ide">float</span>(<span class="ide">k</span> <span class="op">+</span> <span class="ide">i</span> <span class="op">*</span> <span class="num">20</span>)) <span class="op">+</span> <span class="num">1.0</span>) <span class="op">*</span> <span class="num">0.00008</span></div></div><div class="line"><div class="line-content">                <span class="ide">uv</span> <span class="op">=</span> (<span class="ide">fragCoord</span><span class="op">.</span><span class="ide">xy</span> <span class="op">/</span> <span class="ide">FRAME</span><span class="op">.</span><span class="ide">RESOLUTION</span><span class="op">.</span><span class="ide">x</span>) <span class="op">+</span> <span class="ide">vec2</span>(<span class="num">0.01</span> <span class="op">*</span> <span class="ide">sin</span>((<span class="ide">FRAME</span><span class="op">.</span><span class="ide">TIME</span> <span class="op">+</span> <span class="ide">float</span>(<span class="ide">k</span> <span class="op">*</span> <span class="num">6185</span>)) <span class="op">*</span> <span class="num">0.6</span> <span class="op">+</span> <span class="ide">float</span>(<span class="ide">i</span>)) <span class="op">*</span> (<span class="num">5.0</span> <span class="op">/</span> <span class="ide">float</span>(<span class="ide">i</span>)), <span class="ide">downSpeed</span> <span class="op">*</span> (<span class="ide">FRAME</span><span class="op">.</span><span class="ide">TIME</span> <span class="op">+</span> <span class="ide">float</span>(<span class="ide">k</span><span class="op">*</span><span class="num">1352</span>)) <span class="op">*</span> (<span class="num">1.0</span> <span class="op">/</span> <span class="ide">float</span>(<span class="ide">i</span>)))</div></div><div class="line"><div class="line-content">                <span class="ide">uvStep</span> <span class="op">=</span> (<span class="ide">ceil</span>((<span class="ide">uv</span>) <span class="op">*</span> <span class="ide">cellSize</span> <span class="op">-</span> <span class="ide">vec2</span>(<span class="num">0.5</span>,<span class="num">0.5</span>)) <span class="op">/</span> <span class="ide">cellSize</span>)</div></div><div class="line"><div class="line-content">                <span class="ide">x</span> <span class="op">=</span> <span class="ide">fract</span>(<span class="ide">sin</span>(<span class="ide">dot</span>(<span class="ide">uvStep</span>, <span class="ide">vec2</span>(<span class="num">12.9898</span> <span class="op">+</span> <span class="ide">float</span>(<span class="ide">k</span>) <span class="op">*</span> <span class="num">12.0</span>, <span class="num">78.233</span> <span class="op">+</span> <span class="ide">float</span>(<span class="ide">k</span>) <span class="op">*</span> <span class="num">315.156</span>))) <span class="op">*</span> <span class="num">43758.5453</span> <span class="op">+</span> <span class="ide">float</span>(<span class="ide">k</span>) <span class="op">*</span> <span class="num">12.0</span>) <span class="op">-</span> <span class="num">0.5</span></div></div><div class="line"><div class="line-content">                <span class="ide">y</span> <span class="op">=</span> <span class="ide">fract</span>(<span class="ide">sin</span>(<span class="ide">dot</span>(<span class="ide">uvStep</span>, <span class="ide">vec2</span>(<span class="num">62.2364</span> <span class="op">+</span> <span class="ide">float</span>(<span class="ide">k</span>) <span class="op">*</span> <span class="num">23.0</span>, <span class="num">94.674</span> <span class="op">+</span> <span class="ide">float</span>(<span class="ide">k</span>) <span class="op">*</span> <span class="num">95.0</span>))) <span class="op">*</span> <span class="num">62159.8432</span> <span class="op">+</span> <span class="ide">float</span>(<span class="ide">k</span>) <span class="op">*</span> <span class="num">12.0</span>) <span class="op">-</span> <span class="num">0.5</span></div></div><div class="line"><div class="line-content">                <span class="ide">randomMagnitude1</span> <span class="op">=</span> <span class="ide">sin</span>(<span class="ide">FRAME</span><span class="op">.</span><span class="ide">TIME</span> <span class="op">*</span> <span class="num">2.5</span>) <span class="op">*</span> <span class="num">0.7</span> <span class="op">/</span> <span class="ide">cellSize</span></div></div><div class="line"><div class="line-content">                <span class="ide">randomMagnitude2</span> <span class="op">=</span> <span class="ide">cos</span>(<span class="ide">FRAME</span><span class="op">.</span><span class="ide">TIME</span> <span class="op">*</span> <span class="num">2.5</span>) <span class="op">*</span> <span class="num">0.7</span> <span class="op">/</span> <span class="ide">cellSize</span></div></div><div class="line"><div class="line-content">                <span class="ide">d</span> <span class="op">=</span> <span class="num">5.0</span> <span class="op">*</span> <span class="ide">distance</span>((<span class="ide">uvStep</span><span class="op">.</span><span class="ide">xy</span> <span class="op">+</span> <span class="ide">vec2</span>(<span class="ide">x</span> <span class="op">*</span> <span class="ide">sin</span>(<span class="ide">y</span>), <span class="ide">y</span>) <span class="op">*</span> <span class="ide">randomMagnitude1</span> <span class="op">+</span> <span class="ide">vec2</span>(<span class="ide">y</span>,<span class="ide">x</span>) <span class="op">*</span> <span class="ide">randomMagnitude2</span>), <span class="ide">uv</span><span class="op">.</span><span class="ide">xy</span>)</div></div><div class="line"><div class="line-content">                <span class="ide">omiVal</span> <span class="op">=</span> <span class="ide">fract</span>(<span class="ide">sin</span>(<span class="ide">dot</span>(<span class="ide">uvStep</span><span class="op">.</span><span class="ide">xy</span>, <span class="ide">vec2</span>(<span class="num">32.4691</span>,<span class="num">94.615</span>))) <span class="op">*</span> <span class="num">31572.1684</span>)</div></div><div class="line"><div class="line-content">            </div></div><div class="line"><div class="line-content">            <span class="kwd">if</span> <span class="ide">omiVal</span> <span class="op">&lt;</span> <span class="num">0.08</span>:</div></div><div class="line"><div class="line-content">                <span class="kwd">let</span> <span class="ide">newd</span> <span class="op">=</span> (<span class="ide">x</span><span class="op">+</span><span class="num">1.0</span>)<span class="op">*</span><span class="num">0.4</span><span class="op">*</span><span class="ide">clamp</span>(<span class="num">1.9</span><span class="op">-</span><span class="ide">d</span><span class="op">*</span>(<span class="num">15.0</span><span class="op">+</span>(<span class="ide">x</span><span class="op">*</span><span class="num">6.3</span>))<span class="op">*</span>(<span class="ide">cellSize</span><span class="op">/</span><span class="num">1.4</span>),<span class="num">0.0</span>,<span class="num">1.0</span>)</div></div><div class="line"><div class="line-content">                <span class="ide">snow</span> <span class="op">+=</span> <span class="ide">newd</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content">    <span class="ide">COLOR</span> <span class="op">=</span> <span class="ide">texture</span>(<span class="ide">COLOR_CHANNEL</span>, <span class="ide">UV</span>) <span class="op">+</span> <span class="ide">vec4</span>(<span class="ide">snow</span>) <span class="op">+</span> <span class="ide">gradient</span> <span class="op">*</span> <span class="ide">vec4</span>(<span class="num">0.4</span>, <span class="num">0.8</span>, <span class="num">1.0</span>, <span class="num">0.0</span>) <span class="op">+</span> <span class="ide">random</span> <span class="op">*</span> <span class="num">0.01</span></div></div>  </code></pre>
<p>Now in main.nim, we import &quot;snowEffect&quot; and add it to our camera as an effect.</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">import</span> <span class="ide">alasgar</span></div></div><div class="line"><div class="line-content"><span class="kwd">from</span> <span class="ide">snow</span> <span class="kwd">import</span> <span class="ide">snowEffect</span></div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div><div class="line"><div class="line-content"><span class="ide">addEffect</span>(<span class="ide">cameraEntity</span>[<span class="ide">CameraComponent</span>], <span class="str">&quot;snowEffect&quot;</span>, <span class="ide">newCanvasShader</span>(<span class="ide">snowEffect</span>))</div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div>  </code></pre>
<p>  <img src="https://abisxir.github.io/alasgar/step9/demo.png" style="max-width: 100%;" alt="" /></p>
<p>That was all you need to do, if you <a href="https://abisxir.github.io/alasgar/step9/build">run</a> the code you will see our beautiful snow. As you see in function signature, there are some unused variables:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">snowEffect</span><span class="op">*</span>(<span class="ide">CAMERA</span>: <span class="ide">Uniform</span>[<span class="ide">Camera</span>],</div></div><div class="line"><div class="line-content">                 <span class="ide">FRAME</span>: <span class="ide">Uniform</span>[<span class="ide">Frame</span>],</div></div><div class="line"><div class="line-content">                 <span class="ide">COLOR_CHANNEL</span>: <span class="ide">Layout</span>[<span class="num">0</span>, <span class="ide">Uniform</span>[<span class="ide">Sampler2D</span>]],</div></div><div class="line"><div class="line-content">                 <span class="ide">NORMAL_CHANNEL</span>: <span class="ide">Layout</span>[<span class="num">1</span>, <span class="ide">Uniform</span>[<span class="ide">Sampler2D</span>]],</div></div><div class="line"><div class="line-content">                 <span class="ide">DEPTH_CHANNEL</span>: <span class="ide">Layout</span>[<span class="num">2</span>, <span class="ide">Uniform</span>[<span class="ide">Sampler2D</span>]],</div></div><div class="line"><div class="line-content">                 <span class="ide">UV</span>: <span class="ide">Vec2</span>,</div></div><div class="line"><div class="line-content">                 <span class="ide">COLOR</span>: <span class="kwd">var</span> <span class="ide">Vec4</span>)</div></div>  </code></pre>
<p>These variables will be provided by engine and you can use them when it is required:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">type</span></div></div><div class="line"><div class="line-content">    <span class="ide">Camera</span><span class="op">*</span> <span class="op">=</span> <span class="kwd">object</span></div></div><div class="line"><div class="line-content">        <span class="ide">POSITION</span><span class="op">*:</span> <span class="ide">Vec3</span></div></div><div class="line"><div class="line-content">        <span class="ide">VIEW_MATRIX</span><span class="op">*:</span> <span class="ide">Mat4</span></div></div><div class="line"><div class="line-content">        <span class="ide">INV_VIEW_MATRIX</span><span class="op">*:</span> <span class="ide">Mat4</span></div></div><div class="line"><div class="line-content">        <span class="ide">PROJECTION_MATRIX</span><span class="op">*:</span> <span class="ide">Mat4</span></div></div><div class="line"><div class="line-content">        <span class="ide">INV_PROJECTION_MATRIX</span><span class="op">*:</span> <span class="ide">Mat4</span></div></div><div class="line"><div class="line-content">        <span class="ide">EXPOSURE</span><span class="op">*:</span> <span class="ide">float</span></div></div><div class="line"><div class="line-content">        <span class="ide">GAMMA</span><span class="op">*:</span> <span class="ide">float</span></div></div><div class="line"><div class="line-content">        <span class="ide">NEAR</span><span class="op">*:</span> <span class="ide">float</span></div></div><div class="line"><div class="line-content">        <span class="ide">FAR</span><span class="op">*:</span> <span class="ide">float</span></div></div><div class="line"><div class="line-content">    <span class="ide">Frame</span><span class="op">*</span> <span class="op">=</span> <span class="kwd">object</span></div></div><div class="line"><div class="line-content">        <span class="ide">RESOLUTION</span><span class="op">*:</span> <span class="ide">Vec3</span></div></div><div class="line"><div class="line-content">        <span class="ide">TIME</span><span class="op">*:</span> <span class="ide">float</span></div></div><div class="line"><div class="line-content">        <span class="ide">TIME_DELTA</span><span class="op">*:</span> <span class="ide">float</span></div></div><div class="line"><div class="line-content">        <span class="ide">COUNT</span><span class="op">*:</span> <span class="ide">float</span></div></div><div class="line"><div class="line-content">        <span class="ide">MOUSE</span><span class="op">*:</span> <span class="ide">Vec4</span></div></div><div class="line"><div class="line-content">        <span class="ide">DATE</span><span class="op">*:</span> <span class="ide">Vec4</span></div></div>  </code></pre>
<p>It is possible to provide uniform variables and textures if the shader&apos;s logic needs it. That is fairly easy, let us add a speed variable and control it from outside:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="op">...</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">snowEffect</span><span class="op">*</span>(<span class="ide">FRAME</span>: <span class="ide">Uniform</span>[<span class="ide">Frame</span>],</div></div><div class="line"><div class="line-content">                 <span class="ide">COLOR_CHANNEL</span>: <span class="ide">Layout</span>[<span class="num">0</span>, <span class="ide">Uniform</span>[<span class="ide">Sampler2D</span>]],</div></div><div class="line"><div class="line-content">                 <span class="ide">SPEED</span>: <span class="ide">Uniform</span>[<span class="ide">float</span>],                 </div></div><div class="line"><div class="line-content">                 <span class="ide">UV</span>: <span class="ide">Vec2</span>,</div></div><div class="line"><div class="line-content">                 <span class="ide">COLOR</span>: <span class="kwd">var</span> <span class="ide">Vec4</span>) <span class="op">=</span></div></div><div class="line"><div class="line-content">    <span class="kwd">var</span> </div></div><div class="line"><div class="line-content">        <span class="ide">fragCoord</span> <span class="op">=</span> <span class="ide">UV</span> <span class="op">*</span> <span class="ide">FRAME</span><span class="op">.</span><span class="ide">RESOLUTION</span><span class="op">.</span><span class="ide">xy</span></div></div><div class="line"><div class="line-content">        <span class="ide">snow</span> <span class="op">=</span> <span class="num">0.0</span></div></div><div class="line"><div class="line-content">        <span class="ide">gradient</span> <span class="op">=</span> (<span class="num">1.0</span> <span class="op">-</span> <span class="ide">float</span>(<span class="ide">fragCoord</span><span class="op">.</span><span class="ide">y</span> <span class="op">/</span> <span class="ide">FRAME</span><span class="op">.</span><span class="ide">RESOLUTION</span><span class="op">.</span><span class="ide">x</span>)) <span class="op">*</span> <span class="num">0.4</span></div></div><div class="line"><div class="line-content">        <span class="ide">random</span> <span class="op">=</span> <span class="ide">fract</span>(<span class="ide">sin</span>(<span class="ide">dot</span>(<span class="ide">fragCoord</span><span class="op">.</span><span class="ide">xy</span>, <span class="ide">vec2</span>(<span class="num">12.9898</span>,<span class="num">78.233</span>))) <span class="op">*</span> <span class="num">43758.5453</span>)</div></div><div class="line"><div class="line-content">    <span class="kwd">for</span> <span class="ide">k</span> <span class="kwd">in</span> <span class="num">0.</span><span class="op">.</span><span class="num">5</span>:</div></div><div class="line"><div class="line-content">        <span class="kwd">for</span> <span class="ide">i</span> <span class="kwd">in</span> <span class="num">0.</span><span class="op">.</span><span class="num">11</span>:</div></div><div class="line"><div class="line-content">            <span class="kwd">var</span> </div></div><div class="line"><div class="line-content">                <span class="ide">cellSize</span> <span class="op">=</span> <span class="num">2.0</span> <span class="op">+</span> (<span class="ide">float</span>(<span class="ide">i</span>) <span class="op">*</span> <span class="num">3.0</span>)</div></div><div class="line"><div class="line-content">                <span class="ide">downSpeed</span> <span class="op">=</span> <span class="ide">SPEED</span> <span class="op">+</span> (<span class="ide">sin</span>(<span class="ide">FRAME</span><span class="op">.</span><span class="ide">TIME</span> <span class="op">*</span> <span class="num">0.4</span> <span class="op">+</span> <span class="ide">float</span>(<span class="ide">k</span> <span class="op">+</span> <span class="ide">i</span> <span class="op">*</span> <span class="num">20</span>)) <span class="op">+</span> <span class="num">1.0</span>) <span class="op">*</span> <span class="num">0.00008</span></div></div><div class="line"><div class="line-content"><span class="op">...</span></div></div>  </code></pre>
<p>As you see, I removed the unused variables. Now we program our camera and change speed by time:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="op">...</span></div></div><div class="line"><div class="line-content"><span class="ide">addEffect</span>(<span class="ide">cameraEntity</span>[<span class="ide">CameraComponent</span>], <span class="str">&quot;snowEffect&quot;</span>, <span class="ide">newCanvasShader</span>(<span class="ide">snowEffect</span>))</div></div><div class="line"><div class="line-content"><span class="ide">program</span>(<span class="ide">cameraEntity</span>, <span class="kwd">proc</span>(<span class="ide">script</span>: <span class="ide">ScriptComponent</span>) <span class="op">=</span></div></div><div class="line"><div class="line-content">    <span class="kwd">let</span> </div></div><div class="line"><div class="line-content">        <span class="com"># Gets camera component</span></div></div><div class="line"><div class="line-content">        <span class="ide">camera</span> <span class="op">=</span> <span class="ide">script</span>[<span class="ide">CameraComponent</span>]</div></div><div class="line"><div class="line-content">        <span class="com"># Gets effect shader</span></div></div><div class="line"><div class="line-content">        <span class="ide">effect</span> <span class="op">=</span> <span class="ide">getEffect</span>(<span class="ide">camera</span>, <span class="str">&quot;snowEffect&quot;</span>)</div></div><div class="line"><div class="line-content">    <span class="com"># Updates new value in shader</span></div></div><div class="line"><div class="line-content">    <span class="ide">set</span>(<span class="ide">effect</span>, <span class="str">&quot;SPEED&quot;</span>, <span class="num">2.0</span>)</div></div><div class="line"><div class="line-content">)</div></div>  </code></pre>
<p>That&apos;s it, now we have a shader param which we can update it based on our needs and alasgar will pass it to the shader when it is required. It was just the fragment shader that we programmed here, but also is possible to pass a function as vertex shader for some effects like camera shaking:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">effectVertex</span><span class="op">*</span>(<span class="ide">CAMERA</span>: <span class="ide">Uniform</span>[<span class="ide">Camera</span>],</div></div><div class="line"><div class="line-content">                   <span class="ide">FRAME</span>: <span class="ide">Uniform</span>[<span class="ide">Frame</span>],</div></div><div class="line"><div class="line-content">                   <span class="ide">gl_VertexID</span>: <span class="ide">int</span>,</div></div><div class="line"><div class="line-content">                   <span class="ide">UV</span>: <span class="kwd">var</span> <span class="ide">Vec2</span>,</div></div><div class="line"><div class="line-content">                   <span class="ide">gl_Position</span>: <span class="kwd">var</span> <span class="ide">Vec4</span>) <span class="op">=</span></div></div><div class="line"><div class="line-content">    <span class="kwd">let</span> <span class="ide">v1</span>: <span class="ide">int</span> <span class="op">=</span> <span class="ide">gl_VertexID</span> <span class="kwd">and</span> <span class="num">1</span></div></div><div class="line"><div class="line-content">    <span class="kwd">let</span> <span class="ide">v2</span>: <span class="ide">int</span> <span class="op">=</span> <span class="ide">gl_VertexID</span> <span class="kwd">and</span> <span class="num">2</span></div></div><div class="line"><div class="line-content">    <span class="kwd">let</span> <span class="ide">x</span>: <span class="ide">float</span> <span class="op">=</span> <span class="ide">float</span>(<span class="ide">v1</span> <span class="kwd">shl</span> <span class="num">2</span>)</div></div><div class="line"><div class="line-content">    <span class="kwd">let</span> <span class="ide">y</span>: <span class="ide">float</span> <span class="op">=</span> <span class="ide">float</span>(<span class="ide">v2</span> <span class="kwd">shl</span> <span class="num">1</span>)</div></div><div class="line"><div class="line-content">    <span class="ide">UV</span><span class="op">.</span><span class="ide">x</span> <span class="op">=</span> <span class="ide">x</span> <span class="op">*</span> <span class="num">0.5</span></div></div><div class="line"><div class="line-content">    <span class="ide">UV</span><span class="op">.</span><span class="ide">y</span> <span class="op">=</span> <span class="ide">y</span> <span class="op">*</span> <span class="num">0.5</span></div></div><div class="line"><div class="line-content">    <span class="ide">gl_Position</span> <span class="op">=</span> <span class="ide">vec4</span>(<span class="ide">x</span> <span class="op">-</span> <span class="num">1.0</span>, <span class="ide">y</span> <span class="op">-</span> <span class="num">1.0</span>, <span class="num">0.0</span>, <span class="num">1.0</span>)</div></div>  </code></pre>
<p>This is the current implementation, depends on shader requirements you can change it and like the fragment shader, it accepts custom parameters. Then create a canvas shader with both vertex and fragmend shader code and add it as a new effect to the camera component:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="ide">addEffect</span>(<span class="ide">cameraEntity</span>[<span class="ide">CameraComponent</span>], <span class="str">&quot;myEffect&quot;</span>, <span class="ide">newCanvasShader</span>(<span class="ide">vertex</span>, <span class="ide">fragment</span>))</div></div>  </code></pre>
<p>There are also some predefined effects that you can use them:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="com"># Creates bloom effect shader</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newBloomEffect</span><span class="op">*</span>(<span class="ide">intersity</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">1.0</span>): <span class="ide">Shader</span></div></div><div class="line"><div class="line-content"><span class="com"># Creates FXAA effect shader </span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newFxaaEffect</span><span class="op">*</span>(<span class="ide">spanMax</span><span class="op">=</span><span class="num">8&apos;f32</span>, </div></div><div class="line"><div class="line-content">                    <span class="ide">reduceMul</span><span class="op">=</span><span class="num">1&apos;f32</span> <span class="op">/</span> <span class="num">8&apos;f32</span>, </div></div><div class="line"><div class="line-content">                    <span class="ide">reduceMin</span><span class="op">=</span><span class="num">1&apos;f32</span> <span class="op">/</span> <span class="num">128&apos;f32</span>, </div></div><div class="line"><div class="line-content">                    <span class="ide">split</span><span class="op">=</span><span class="num">0&apos;f32</span>): <span class="ide">Shader</span></div></div><div class="line"><div class="line-content"><span class="com"># Creates SSAO effect shader</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newSSAOEffect</span><span class="op">*</span>(<span class="ide">samples</span><span class="op">=</span><span class="num">32&apos;i32</span>, </div></div><div class="line"><div class="line-content">                    <span class="ide">sampleRadius</span><span class="op">=</span><span class="num">0.02&apos;f32</span>, </div></div><div class="line"><div class="line-content">                    <span class="ide">intensity</span><span class="op">=</span><span class="num">1.0&apos;f32</span>, </div></div><div class="line"><div class="line-content">                    <span class="ide">scale</span><span class="op">=</span><span class="num">2.5&apos;f32</span>, </div></div><div class="line"><div class="line-content">                    <span class="ide">bias</span><span class="op">=</span><span class="num">0.05&apos;f32</span>, </div></div><div class="line"><div class="line-content">                    <span class="ide">maxDistance</span><span class="op">=</span><span class="num">0.07&apos;f32</span>, </div></div><div class="line"><div class="line-content">                    <span class="ide">noiseTexture</span>: <span class="ide">Texture</span>)</div></div>  </code></pre>
<p>There are also some functions to manipulate effects:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">addEffect</span><span class="op">*</span>(<span class="ide">camera</span>: <span class="ide">CameraComponent</span>, <span class="ide">name</span>: <span class="ide">string</span>, <span class="ide">shader</span>: <span class="ide">Shader</span>)</div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">getEffect</span><span class="op">*</span>(<span class="ide">camera</span>: <span class="ide">CameraComponent</span>, <span class="ide">name</span>: <span class="ide">string</span>): <span class="ide">Shader</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">hasEffect</span><span class="op">*</span>(<span class="ide">camera</span>: <span class="ide">CameraComponent</span>, <span class="ide">name</span>: <span class="ide">string</span>): <span class="ide">bool</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">disableEffect</span><span class="op">*</span>(<span class="ide">camera</span>: <span class="ide">CameraComponent</span>, <span class="ide">name</span>: <span class="ide">string</span>)</div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">enableEffect</span><span class="op">*</span>(<span class="ide">camera</span>: <span class="ide">CameraComponent</span>, <span class="ide">name</span>: <span class="ide">string</span>)</div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">removeEffect</span><span class="op">*</span>(<span class="ide">camera</span>: <span class="ide">CameraComponent</span>, <span class="ide">name</span>: <span class="ide">string</span>) <span class="op">=</span></div></div>  </code></pre>
<h1>Shadows</h1>
<p>Shadows are implemented only for spot and direct lights. Let us reset our example to a simpler scene to see how shadow works:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">import</span> <span class="ide">alasgar</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Creates a window named Step10</span></div></div><div class="line"><div class="line-content"><span class="ide">window</span>(<span class="str">&quot;Step10&quot;</span>, <span class="num">830</span>, <span class="num">415</span>)</div></div><div class="line"><div class="line-content">   </div></div><div class="line"><div class="line-content"><span class="kwd">let</span> </div></div><div class="line"><div class="line-content">    <span class="com"># Creates a new scene</span></div></div><div class="line"><div class="line-content">    <span class="ide">scene</span> <span class="op">=</span> <span class="ide">newScene</span>()</div></div><div class="line"><div class="line-content">    <span class="com"># Creates the camera entity</span></div></div><div class="line"><div class="line-content">    <span class="ide">cameraEntity</span> <span class="op">=</span> <span class="ide">newEntity</span>(<span class="ide">scene</span>, <span class="str">&quot;Camera&quot;</span>)</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Sets the background color</span></div></div><div class="line"><div class="line-content"><span class="ide">scene</span><span class="op">.</span><span class="ide">background</span> <span class="op">=</span> <span class="ide">parseHex</span>(<span class="str">&quot;d7d1bf&quot;</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Sets fog desnity to enable fog, fancy effect :)</span></div></div><div class="line"><div class="line-content"><span class="ide">scene</span><span class="op">.</span><span class="ide">fogDensity</span> <span class="op">=</span> <span class="num">0.05</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Sets the camera position</span></div></div><div class="line"><div class="line-content"><span class="ide">cameraEntity</span><span class="op">.</span><span class="ide">transform</span><span class="op">.</span><span class="ide">position</span> <span class="op">=</span> <span class="num">7.5</span> <span class="op">*</span> <span class="ide">vec3</span>(<span class="num">1</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Adds a perspective camera component to entity</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(</div></div><div class="line"><div class="line-content">    <span class="ide">cameraEntity</span>, </div></div><div class="line"><div class="line-content">    <span class="ide">newPerspectiveCamera</span>(</div></div><div class="line"><div class="line-content">        <span class="num">75</span>, </div></div><div class="line"><div class="line-content">        <span class="ide">runtime</span><span class="op">.</span><span class="ide">ratio</span>, </div></div><div class="line"><div class="line-content">        <span class="num">0.1</span>, </div></div><div class="line"><div class="line-content">        <span class="num">100.0</span>, </div></div><div class="line"><div class="line-content">        <span class="ide">vec3</span>(<span class="num">0</span>) <span class="op">-</span> <span class="ide">cameraEntity</span><span class="op">.</span><span class="ide">transform</span><span class="op">.</span><span class="ide">position</span></div></div><div class="line"><div class="line-content">    )</div></div><div class="line"><div class="line-content">)</div></div><div class="line"><div class="line-content"><span class="com"># Makes the camera entity child of the scene</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(<span class="ide">scene</span>, <span class="ide">cameraEntity</span>)</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Creates the cube entity, by default position is 0, 0, 0</span></div></div><div class="line"><div class="line-content"><span class="kwd">let</span> <span class="ide">cubeEntity</span> <span class="op">=</span> <span class="ide">newEntity</span>(<span class="ide">scene</span>, <span class="str">&quot;Cube&quot;</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Add a cube mesh component to entity</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(<span class="ide">cubeEntity</span>, <span class="ide">newCubeMesh</span>())</div></div><div class="line"><div class="line-content"><span class="com"># Adds a script component to the cube entity</span></div></div><div class="line"><div class="line-content"><span class="ide">program</span>(<span class="ide">cubeEntity</span>, <span class="kwd">proc</span>(<span class="ide">script</span>: <span class="ide">ScriptComponent</span>) <span class="op">=</span></div></div><div class="line"><div class="line-content">    <span class="kwd">let</span> <span class="ide">t</span> <span class="op">=</span> <span class="num">2</span> <span class="op">*</span> <span class="ide">runtime</span><span class="op">.</span><span class="ide">age</span></div></div><div class="line"><div class="line-content">    <span class="com"># Rotates the cube using euler angles</span></div></div><div class="line"><div class="line-content">    <span class="ide">script</span><span class="op">.</span><span class="ide">transform</span><span class="op">.</span><span class="ide">euler</span> <span class="op">=</span> <span class="ide">vec3</span>(</div></div><div class="line"><div class="line-content">        <span class="ide">sin</span>(<span class="ide">t</span>),</div></div><div class="line"><div class="line-content">        <span class="ide">cos</span>(<span class="ide">t</span>),</div></div><div class="line"><div class="line-content">        <span class="ide">sin</span>(<span class="ide">t</span>) <span class="op">*</span> <span class="ide">cos</span>(<span class="ide">t</span>),</div></div><div class="line"><div class="line-content">    )</div></div><div class="line"><div class="line-content">)</div></div><div class="line"><div class="line-content"><span class="com"># Makes the cube enity child of the scene</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(<span class="ide">scene</span>, <span class="ide">cubeEntity</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Scale it up</span></div></div><div class="line"><div class="line-content"><span class="ide">cubeEntity</span><span class="op">.</span><span class="ide">transform</span><span class="op">.</span><span class="ide">scale</span> <span class="op">=</span> <span class="ide">vec3</span>(<span class="num">2</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Enables shadows for the cube</span></div></div><div class="line"><div class="line-content"><span class="ide">cubeEntity</span><span class="op">.</span><span class="ide">material</span><span class="op">.</span><span class="ide">castShadow</span> <span class="op">=</span> <span class="ide">true</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Creates the plane entity</span></div></div><div class="line"><div class="line-content"><span class="kwd">let</span> <span class="ide">planeEntity</span> <span class="op">=</span> <span class="ide">newEntity</span>(<span class="ide">scene</span>, <span class="str">&quot;Ground&quot;</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Adds a plane mesh component to entity</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(<span class="ide">planeEntity</span>, <span class="ide">newPlaneMesh</span>(<span class="num">1</span>, <span class="num">1</span>))</div></div><div class="line"><div class="line-content"><span class="com"># Makes the plane entity child of the scene</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(<span class="ide">scene</span>, <span class="ide">planeEntity</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Sets the plane position and scale</span></div></div><div class="line"><div class="line-content"><span class="ide">planeEntity</span><span class="op">.</span><span class="ide">transform</span><span class="op">.</span><span class="ide">position</span> <span class="op">=</span> <span class="ide">vec3</span>(<span class="num">0</span>, <span class="op">-</span><span class="num">3</span>, <span class="num">0</span>)</div></div><div class="line"><div class="line-content"><span class="ide">planeEntity</span><span class="op">.</span><span class="ide">transform</span><span class="op">.</span><span class="ide">scale</span> <span class="op">=</span> <span class="ide">vec3</span>(<span class="num">200</span>, <span class="num">1</span>, <span class="num">200</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Marks the plane to not cast shadows</span></div></div><div class="line"><div class="line-content"><span class="ide">planeEntity</span><span class="op">.</span><span class="ide">material</span><span class="op">.</span><span class="ide">castShadow</span> <span class="op">=</span> <span class="ide">false</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Creates the light entity</span></div></div><div class="line"><div class="line-content"><span class="kwd">let</span> <span class="ide">lightEntity</span> <span class="op">=</span> <span class="ide">newEntity</span>(<span class="ide">scene</span>, <span class="str">&quot;Light&quot;</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Adds a point light component to entity, with enabled shadow</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(</div></div><div class="line"><div class="line-content">    <span class="ide">lightEntity</span>, </div></div><div class="line"><div class="line-content">    <span class="ide">newDirectLightComponent</span>(</div></div><div class="line"><div class="line-content">        <span class="ide">direction</span><span class="op">=</span><span class="ide">vec3</span>(<span class="num">0</span>) <span class="op">-</span> <span class="ide">vec3</span>(<span class="op">-</span><span class="num">4</span>, <span class="num">5</span>, <span class="num">4</span>),</div></div><div class="line"><div class="line-content">        <span class="ide">shadow</span><span class="op">=</span><span class="ide">true</span>,</div></div><div class="line"><div class="line-content">    )</div></div><div class="line"><div class="line-content">)</div></div><div class="line"><div class="line-content"><span class="com"># Makes the light entity child of the scene</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(<span class="ide">scene</span>, <span class="ide">lightEntity</span>)</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="com"># Renders an empty scene</span></div></div><div class="line"><div class="line-content"><span class="ide">render</span>(<span class="ide">scene</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Runs game main loop</span></div></div><div class="line"><div class="line-content"><span class="ide">loop</span>()</div></div>  </code></pre>
<p><img src="https://abisxir.github.io/alasgar/step10/demo.png" style="max-width: 100%;" alt="" />As you <a href="https://abisxir.github.io/alasgar/step10/build">see</a>, we enabled shadow casting for our cube using its material:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="com"># Marks the plane to not cast shadows</span></div></div><div class="line"><div class="line-content"><span class="ide">cubeEntity</span><span class="op">.</span><span class="ide">material</span><span class="op">.</span><span class="ide">castShadow</span> <span class="op">=</span> <span class="ide">true</span></div></div>  </code></pre>
<p>And then, on the light we set the shadow flag to true:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="com"># Adds a point light component to entity, with enabled shadow</span></div></div><div class="line"><div class="line-content"><span class="ide">add</span>(</div></div><div class="line"><div class="line-content">    <span class="ide">lightEntity</span>, </div></div><div class="line"><div class="line-content">    <span class="ide">newDirectLightComponent</span>(</div></div><div class="line"><div class="line-content">        <span class="ide">direction</span><span class="op">=</span><span class="ide">vec3</span>(<span class="num">0</span>) <span class="op">-</span> <span class="ide">vec3</span>(<span class="op">-</span><span class="num">4</span>, <span class="num">5</span>, <span class="num">4</span>),</div></div><div class="line"><div class="line-content">        <span class="ide">shadow</span><span class="op">=</span><span class="ide">true</span>,</div></div><div class="line"><div class="line-content">    )</div></div><div class="line"><div class="line-content">)</div></div>  </code></pre>
<p>That was everything needed to enable shadow for direct lights. The same apporach should happen to the spot lights:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="com">## Creates a direct light component</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newDirectLightComponent</span><span class="op">*</span>(<span class="ide">direction</span>: <span class="ide">Vec3</span>, </div></div><div class="line"><div class="line-content">                              <span class="ide">color</span>: <span class="ide">Color</span><span class="op">=</span><span class="ide">COLOR_MILK</span>, </div></div><div class="line"><div class="line-content">                              <span class="ide">luminance</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">100.0</span>, </div></div><div class="line"><div class="line-content">                              <span class="ide">shadow</span>: <span class="ide">bool</span><span class="op">=</span><span class="ide">false</span>,</div></div><div class="line"><div class="line-content">                              <span class="ide">shadowBias</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">0.001</span>): <span class="ide">DirectLightComponent</span></div></div><div class="line"><div class="line-content"><span class="com">## Creates a spot light component</span></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newSpotPointLightComponent</span><span class="op">*</span>(<span class="ide">direction</span>: <span class="ide">Vec3</span>,</div></div><div class="line"><div class="line-content">                                 <span class="ide">color</span>: <span class="ide">Color</span><span class="op">=</span><span class="ide">COLOR_MILK</span>, </div></div><div class="line"><div class="line-content">                                 <span class="ide">luminance</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">50.0</span>,</div></div><div class="line"><div class="line-content">                                 <span class="ide">innerCutoff</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">30</span>, </div></div><div class="line"><div class="line-content">                                 <span class="ide">outerCutoff</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">45</span>,</div></div><div class="line"><div class="line-content">                                 <span class="ide">shadow</span>: <span class="ide">bool</span><span class="op">=</span><span class="ide">false</span>,</div></div><div class="line"><div class="line-content">                                 <span class="ide">shadowBias</span>: <span class="ide">float32</span><span class="op">=</span><span class="num">0.001</span>): <span class="ide">SpotPointLightComponent</span></div></div>  </code></pre>
<p>One extra line was also enabling fog on our scene:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="com"># Sets the background color</span></div></div><div class="line"><div class="line-content"><span class="ide">scene</span><span class="op">.</span><span class="ide">background</span> <span class="op">=</span> <span class="ide">parseHex</span>(<span class="str">&quot;d7d1bf&quot;</span>)</div></div><div class="line"><div class="line-content"><span class="com"># Sets fog desnity to enable fog, fancy effect :)</span></div></div><div class="line"><div class="line-content"><span class="ide">scene</span><span class="op">.</span><span class="ide">fogDensity</span> <span class="op">=</span> <span class="num">0.05</span></div></div>  </code></pre>
<p>Fog automatically fades the scene to our background color. The scene object includes some other properties to change the environment effects:</p>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">type</span></div></div><div class="line"><div class="line-content">    <span class="ide">Scene</span><span class="op">*</span> <span class="op">=</span> <span class="kwd">ref</span> <span class="kwd">object</span></div></div><div class="line"><div class="line-content">        <span class="com">## Background color, default is black</span></div></div><div class="line"><div class="line-content">        <span class="ide">background</span><span class="op">*:</span> <span class="ide">Color</span></div></div><div class="line"><div class="line-content">        <span class="com">## Ambient color which will affect all objects in the scene when lighting, default is black that means no effect</span></div></div><div class="line"><div class="line-content">        <span class="ide">ambient</span><span class="op">*:</span> <span class="ide">Color</span></div></div><div class="line"><div class="line-content">        <span class="com">## Fog density, default is 0</span></div></div><div class="line"><div class="line-content">        <span class="ide">fogDensity</span><span class="op">*:</span> <span class="ide">float32</span></div></div><div class="line"><div class="line-content">        <span class="com">## Minimum fog distance to apply fog effect, default is 0</span></div></div><div class="line"><div class="line-content">        <span class="ide">fogMinDistance</span><span class="op">*:</span> <span class="ide">float32</span></div></div><div class="line"><div class="line-content">        <span class="ide">environmentMap</span><span class="op">*:</span> <span class="ide">Texture</span></div></div><div class="line"><div class="line-content">        <span class="ide">environmentIntensity</span><span class="op">*:</span> <span class="ide">float32</span></div></div><div class="line"><div class="line-content">        <span class="ide">environmentBlurrity</span><span class="op">*:</span> <span class="ide">float32</span></div></div>  </code></pre>
<h1>Dependencies</h1>
<h2>nimx and vmath</h2>
<p>Most of nimx build system has been copied here, just removed and reformed some parts. This part will be rewritten later to use nimble instead of nake. nimx is a UI library (and game framework) for nim, check it out <a href="https://github.com/yglukhov/nimx">here</a>.</p>
<p>For game mathematics, vmath is used. vmath has a good convention, check it out for more information <a href="https://github.com/treeform/vmath">here</a>.</p>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        MIT
                    </p>
                

                
                    <p> <a href="https://github.com/abisxir/alasgar">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2024-02-11T01:12:17Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
