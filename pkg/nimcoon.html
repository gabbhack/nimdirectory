<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">nimcoon</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">cli</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">youtube</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">streaming</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">downloader</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">magnet</button></a>
                </span>
            
        </p>
        
            <p class="pkg-desc">A command-line YouTube player and more</p>
        
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install nimcoon" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><h1>Nimcoon</h1>
<p>Play videos from YouTube and PeerTube from the command line using your preferred desktop media player.</p>
<p>Similar apps for other platforms:</p>
<ul>
<li><a href="https://newpipe.schabi.org">NewPipe</a> is a light-weight YouTube frontend for Android</li>
<li><a href="https://freetubeapp.io">FreeTube</a> is a GUI client for desktop platforms (uses electron)</li>
</ul>
<p>This is a minimal application implemented in <a href="https://nim-lang.org">Nim language</a> using only the standard library.</p>
<p>  <img src="screenshot.png" style="max-width: 100%;" alt="nimcoon screenshot with search term 'baby yoda'" /></p>
<h2>Logo</h2>
<p>A Maine Coon cat wearing a golden crown.<br />
Logo contributions/suggestions welcome.</p>
<p>Maybe I would&apos;ve just called this project Maine Coon had I written it in Python, but I wanted to use this opportunity to make Nim popular.</p>
<h2>Motivation</h2>
<h3>No similar existing tool</h3>
<p>I tried all kinds of alternative YouTube players for the desktop. Most are either electron apps or slow web proxies. There was one cool bash script that did most of what I wanted called <code>ytview</code> but it had no way of copying the URL. I added this feature to the bash script but was still unsatisfied. There were CLI players written in Python but are usually a pain to install. They depend on a hard-coded YouTube API token and suffer from rate-limiting. I use youtube-dl with mpv usually (mostly because I like MPV over the YouTube JavaScript player). These tools have hundreds of options and I can&apos;t remember them. I needed a wrapper for them that does what I want, is easy to install(portable) and has a simple interface. I am not a big fan of Golang and its fat binaries. I discovered Nim around the same time I had this problem and decided to write this tool using just the standard library.</p>
<h3>Digital Minimalism</h3>
<p>YouTube&apos;s business incentive is to make you watch as many videos as possible. If you open the YouTube website and are logged into it, you will just get distracted by recommendations and forget why you opened it in the first place. You might have wanted to watch a conference talk but end up going down a rabbit hole of other &quot;interesting&quot; videos customized for you.</p>
<p>Nimcoon has a spartan design. It doesn&apos;t even show images of the search results. It doesn&apos;t let you browse YouTube. You have to explicitly search for something.</p>
<p>I have had better success with managing my YouTube consumption after shifting to this tool. Settings inspired by Pinafore&apos;s wellness settings.</p>
<h3>Why no issues or merge requests?</h3>
<p>I made this just for myself. The development is completely based on my needs and wants. I am not going to put a lot of work into this project. But feel free to use it if it works for you.</p>
<h2>Features</h2>
<ul>
<li>[x] Search for videos using keywords</li>
<li>[x] Stream videos and music from YouTube</li>
<li>[x] Play direct links from YouTube and PeerTube</li>
<li>[x] Stream video and music from magnet links and hyperlinks to torrent files</li>
<li>[x] Download music</li>
<li>[x] Download video</li>
<li>[x] Play YouTube playlists (MPV only)</li>
<li>[ ] Download YouTube playlists</li>
<li>[x] Stream video from torrent file URLs</li>
<li>[x] BitTorrent is preferred for PeerTube video links</li>
<li>[ ] Search PeerTube (3.0 or later)</li>
<li>[x] YouTube Autoplay (music only)</li>
<li>[ ] Configuration options</li>
</ul>
<table>
<thead>
<tr>
<th />
<th>YouTube</th>
<th>PeerTube (HTTP)</th>
<th>PeerTube (WebTorrent)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Music Streaming</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Video Streaming</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Music Download</td>
<td>✅</td>
<td>✅</td>
<td />
</tr>
<tr>
<td>Video Download</td>
<td>✅</td>
<td>✅</td>
<td />
</tr>
<tr>
<td>Stream Music from URL</td>
<td>✅</td>
<td>✅</td>
<td />
</tr>
<tr>
<td>Stream Video from URL</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Download Music from URL</td>
<td>✅</td>
<td>✅</td>
<td />
</tr>
<tr>
<td>Download Video from URL</td>
<td>✅</td>
<td>✅</td>
<td />
</tr>
<tr>
<td>Stream Music Playlist</td>
<td>✅</td>
<td />
<td />
</tr>
<tr>
<td>Stream Video Playlist</td>
<td>✅</td>
<td />
<td />
</tr>
<tr>
<td>Download Music Playlist</td>
<td />
<td />
<td />
</tr>
<tr>
<td>Download Video Playlist</td>
<td />
<td />
<td />
</tr>
<tr>
<td>Play Recommended Music</td>
<td>✅</td>
<td />
<td />
</tr></tbody></table>
<h2>Installation</h2>
<p>Nim Coon depends on the following:</p>
<ul>
<li>yt-dlp</li>
<li>mpv (recommended) or vlc</li>
<li>webtorrent (for magnet links)</li>
</ul>
<p>Install MPV or VLC using your distribution&apos;s package manager.</p>
<p>Install yt-dlp</p>
<pre>  <code class="language-sh">pip3 install --user yt-dlp
</code></pre>
<p>Install WebTorrent</p>
<pre>  <code class="language-sh">npm install --global webtorrent-cli
</code></pre>
<p>(Optional) If you want your YouTube downloads to be faster, install <code>aria2</code> download manager.</p>
<h3>Installing using Nimble</h3>
<p>Nimcoon can be installed from Nimble repositories:</p>
<pre>  <code class="language-sh">nimble install nimcoon
</code></pre>
<p>You can also install from source by running the following command:</p>
<pre>  <code class="language-sh">nimble install
</code></pre>
<h3>Installing binary</h3>
<p>Download the latest build from GitlabCI (amd64 GNU/Linux only).</p>
<pre>  <code class="language-sh">wget https://gitlab.com/njoseph/nimcoon/-/jobs/artifacts/master/download?job=compile -O artifacts.zip
unzip artifacts.zip
</code></pre>
<p>Copy the binary to somewhere on your path like /usr/local/bin</p>
<h2>Usage</h2>
<pre>  <code class="language-sh">nimcoon &quot;emacs&quot;

# If your search query has multiple words, use quotes
nimcoon &quot;nim lang&quot;

# Play audio of the first search result
nimcoon -m -l &quot;counting stars&quot;

# Download audio of the first search result
nimcoon -mld &quot;counting stars&quot;

# Play direct video link
nimcoon https://www.youtube.com/watch?v=QOEMv0S8AcA

# Add -d to download or -m to select only audio or both
nimcoon -md https://www.youtube.com/watch?v=hT_nvWreIhg
</code></pre>
<p>After the search results are displayed, you can enter a number to play one
result, &quot;all&quot; to play all the results or &quot;q&quot; to quit the program.</p>
<p>If a number is entered, after the selected search result is played, the results
are redisplayed, so that you can play the other results without having to search
again.</p>
<h3>Command line arguments</h3>
<p>Nimcoon provides both interactive and non-interactive arguments with significant
overlap. But some arguments might only be present in one mode.</p>
<p>Non-interactive arguments are specified to the nimcoon program and apply
globally to all search results in that session. These can be overriden on a
case-by-case basis using the interactive arguments.</p>
<table>
<thead>
<tr>
<th>  <strong>Non-interactive Arguments</strong></th>
<th>  <strong>Explanation</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>-m, --music</td>
<td>Play Music only, no video</td>
</tr>
<tr>
<td>-l, --lucky</td>
<td>Try your luck with the first search result</td>
</tr>
<tr>
<td>-f, --full-screen</td>
<td>Play video in full screen</td>
</tr>
<tr>
<td>-d, --download</td>
<td>Download video or music</td>
</tr>
<tr>
<td>-a, --auto-play</td>
<td>Play the next search result (YouTube only)</td>
</tr></tbody></table>
<p>Feel free to use these options in any combination. Nimcoon will show a helpful
error message if you pick incompatible options.</p>
<p>Interactive arguments are provided during selection of a search result. These
options allow you to change your mind after performing the search. For example,
you might have searched for a music video, watched it and want to download the
music only. In this case, you can specify the search result followed by the
options as single characters. i.e</p>
<p>&quot;1&quot; plays the video
&quot;1 md&quot; downloads the music of the video</p>
<table>
<thead>
<tr>
<th>  <strong>Interactive Arguments</strong></th>
<th>  <strong>Explanation</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>-m, --music</td>
<td>Play Music only, no video</td>
</tr>
<tr>
<td>-f, --full-screen</td>
<td>Play video in full screen</td>
</tr>
<tr>
<td>-d, --download</td>
<td>Download video or music</td>
</tr>
<tr>
<td>-a, --auto-play</td>
<td>Play the next search result (YouTube only)</td>
</tr></tbody></table>
<p>Auto-playing videos leads to binge watching. The default option in Nimcoon is to
support auto-play for music only.</p>
<h2>Development</h2>
<p>One-liner for compiling and running</p>
<pre>  <code class="language-sh">nim c -d:ssl -r src/nimcoon.nim &apos;nim lang&apos;
</code></pre>
<h2>Privacy</h2>
<p>To avoid storing your nimcoon searches in <code>zsh</code> history, run this command</p>
<pre>  <code class="language-sh">setopt histignorespace
</code></pre>
<p>Then, add a space before typing nimcoon in the shell, like &quot; nimcoon&quot;</p>
<pre>  <code class="language-sh"> nimcoon &quot;this is private&quot;
</code></pre>
<p>The same can be achieved in <code>bash</code> by setting an environment variable</p>
<pre>  <code class="language-sh">export HISTCONTROL=ignoreboth
</code></pre>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        GPL-3.0
                    </p>
                

                
                    <p> <a href="https://gitlab.com/njoseph/nimcoon">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2024-01-14T01:18:13Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
