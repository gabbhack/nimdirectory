<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">nimlangserver</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">lsp</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">nimsuggest</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">editor</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">ide-tools</button></a>
                </span>
            
        </p>
        <p class="pkg-desc">some("The Nim language server implementation (based on nimsuggest)")</p>
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install nimlangserver" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><h1>Nim Language Server</h1>
<p>Nim Language Server, or <code>nimlangserver</code>, is a language server for Nim.</p>
<h2>Installation</h2>
<h3>VSCode</h3>
<ul>
<li><a href="https://github.com/saem/vscode-nim">vscode-nim</a> has support for <code>nimlangserver</code>. Follow the instructions at:
https://github.com/saem/vscode-nim#nim-lanugage-server-integration-experimental</li>
</ul>
<h3>Neovim</h3>
<ul>
<li><a href="https://neovim.io/doc/user/lsp.html">lsp</a> Neovim has built-in LSP support. Although, you might want to use something like <a href="https://github.com/neovim/nvim-lspconfig">lsp-config</a> to take care of the boilerplate code for the most LSP configurations. Install <code>lsp-config</code> using your favourite plugin manager an place the following code into your <code>init.vim</code> config:</li>
</ul>
<pre>  <code class="language-lua">lua &lt;&lt;EOF

require&apos;lspconfig&apos;.nim_langserver.setup{
  settings = {
    nim = {
      nimsuggestPath = &quot;~/.nimble/bin/custom_lang_server_build&quot;
    }
  }
}

EOF
</code></pre>
<p>Change configuration to your liking (most probably you don&apos;t need to provide any settings at all, defaults should work fine for the majority of the users). You might also want to read <code>lsp-config</code> documentation to setup key bindings, autocompletion and so on.</p>
<p><strong>IMPORTANT</strong> you might want to use latest build of the <code>nimlangserver</code> and/or build it from source.</p>
<h3>VIM/Neovim</h3>
<ul>
<li><a href="https://github.com/neoclide/coc.nvim">coc.nvim</a> supports both classical VIM as well as Neovim. It also supports vscode-like <code>coc-settings.json</code> for LSP configuraition. Install the plugin via your favourite plugin manager, create <code>coc-settings.json</code> alongside your <code>init.vim</code> and add the following contents to it:</li>
</ul>
<pre>  <code class="language-json">{
  &quot;languageserver&quot;: {
    &quot;nim&quot;: {
      &quot;command&quot;: &quot;nimlangserver&quot;,
      &quot;filetypes&quot;: [&quot;nim&quot;],
      &quot;trace.server&quot;: &quot;verbose&quot;,
      &quot;settings&quot;: {
        &quot;nim&quot;: {
          &quot;nimsuggestPath&quot;: &quot;~/.nimble/bin/nimsuggest&quot;
        }
      }
    }
  }
}
</code></pre>
<p>Ofcourse, change the configuraition to your liking. You might also want to read <code>coc.nvim</code> documentation to setup key bindings, autocompletion and so on.</p>
<p><strong>IMPORTANT</strong> you might want to use latest build of the <code>nimlangserver</code> and/or build it from source.</p>
<h3>Installing binaries</h3>
<p><em>NB:</em> <code>nimlangserver</code> requires <code>nimsuggest</code> version that supports <code>--v3</code>:</p>
<ul>
<li><code>devel</code> containing <a href="https://github.com/nim-lang/Nim/pull/19826">19826</a></li>
<li>1.6+ containing <a href="https://github.com/nim-lang/Nim/pull/19892">19892</a></li>
</ul>
<p>You can install the latest release into <code>$HOME/.nimble/bin</code> using e.g.:</p>
<pre>  <code class="language-sh">nimble install nimlangserver
</code></pre>
<h3>From Source</h3>
<pre>  <code class="language-bash">nimble build
</code></pre>
<h2>Configuration Options</h2>
<ul>
<li><code>nim.projectMapping</code> - configure how <code>nimsuggest</code> should be started. Here it is sample configuration for <code>VScode</code>. We don&apos;t want <code>nimlangserver</code> to start <code>nimsuggest</code> for each file and this configuration will allow configuring pair <code>projectPath</code>/<code>fileRegex</code> so when one of the regexp in the list matches current file
then <code>nimls</code> will use <code>root</code> to start <code>nimsuggest</code>. In case there are no matches <code>nimlangserver</code> will try to guess the most suitable project root.</li>
<li><code>nim.timeout</code> - the request timeout in ms after which <code>nimlangserver</code> will restart the language server. If not specified the default is 2 minutes.</li>
<li><code>nim.nimsuggestPath</code> - the path to the <code>nimsuggest</code>. The default is <code>&quot;nimsuggest&quot;</code>.</li>
<li><code>nim.autoCheckFile</code> - check the file on the fly</li>
<li><code>nim.autoCheckProject</code> - check the project after saving the file</li>
<li><code>nim.autoRestart</code> - auto restart once in case of <code>nimsuggest</code> crash. Note that
the server won&apos;t restart if there weren&apos;t any successful calls after the last
restart.</li>
</ul>
<pre>  <code class="language-json">{
    &quot;nim.projectMapping&quot;: [{
        // open files under tests using one nimsuggest instance started with root = test/all.nim
        &quot;projectPath&quot;: &quot;tests/all.nim&quot;,
        &quot;fileRegex&quot;: &quot;tests/.*\\.nim&quot;
    }, {
        // everything else - use main.nim as root.
        &quot;projectPath&quot;: &quot;main.nim&quot;,
        &quot;fileRegex&quot;: &quot;.*\\.nim&quot;
    }]
}
</code></pre>
<h2>Features</h2>
<p><code>nimlangserver</code> supports the following LSP features:</p>
<ul>
<li>Completions</li>
<li>Hover</li>
<li>Goto definition</li>
<li>Document symbols</li>
<li>Find references</li>
<li>Workspace symbols</li>
<li>Rename symbols</li>
</ul>
<p>You can install <code>nimlangserver</code> using the instuctions for your text editor below:</p>
<h3>Extension methods</h3>
<p>In addition to the standard <code>LSP</code> methods, <code>nimlangserver</code> provides additional nim specific methods.</p>
<h3>  <code>extension/macroExpand</code></h3>
<ul>
<li>Request:</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">type</span></div></div><div class="line"><div class="line-content">  <span class="ide">ExpandTextDocumentPositionParams</span><span class="op">*</span> <span class="op">=</span> <span class="kwd">ref</span> <span class="kwd">object</span> <span class="kwd">of</span> <span class="ide">RootObj</span></div></div><div class="line"><div class="line-content">    <span class="ide">textDocument</span><span class="op">*:</span> <span class="ide">TextDocumentIdentifier</span></div></div><div class="line"><div class="line-content">    <span class="ide">position</span><span class="op">*:</span> <span class="ide">Position</span></div></div><div class="line"><div class="line-content">    <span class="ide">level</span><span class="op">*:</span> <span class="ide">Option</span>[<span class="ide">int</span>]</div></div>  </code></pre>
<p>Where:</p>
<ul>
<li><code>position</code> is the position in the document.</li>
<li><code>textDocument</code> is the document.</li>
<li><code>level</code> is the how much levels to expand from the current position</li>
</ul>
<ul>
<li>Response:</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">type</span></div></div><div class="line"><div class="line-content">  <span class="ide">ExpandResult</span><span class="op">*</span> <span class="op">=</span> <span class="kwd">ref</span> <span class="kwd">object</span> <span class="kwd">of</span> <span class="ide">RootObj</span></div></div><div class="line"><div class="line-content">    <span class="ide">range</span><span class="op">*:</span> <span class="ide">Range</span></div></div><div class="line"><div class="line-content">    <span class="ide">content</span><span class="op">*:</span> <span class="ide">string</span></div></div>  </code></pre>
<p>Where:</p>
<ul>
<li><code>content</code> is the expand result</li>
<li><code>range</code> is the original range of the request.</li>
</ul>
<p>Here it is sample request/response:</p>
<pre>  <code>[Trace - 11:10:09 AM] Sending request &apos;extension/macroExpand - (141)&apos;.
Params: {
  &quot;textDocument&quot;: {
    &quot;uri&quot;: &quot;file:///.../tests/projects/hw/hw.nim&quot;
  },
  &quot;position&quot;: {
    &quot;line&quot;: 27,
    &quot;character&quot;: 2
  },
  &quot;level&quot;: 1
}


[Trace - 11:10:10 AM] Received response &apos;extension/macroExpand - (141)&apos; in 309ms.
Result: {
  &quot;range&quot;: {
    &quot;start&quot;: {
      &quot;line&quot;: 27,
      &quot;character&quot;: 0
    },
    &quot;end&quot;: {
      &quot;line&quot;: 28,
      &quot;character&quot;: 19
    }
  },
  &quot;content&quot;: &quot;  block:\n    template field1(): untyped =\n      a.field1\n\n    template field2(): untyped =\n      a.field2\n\n    field1 = field2&quot;
}

</code></pre>
<h3>VSCode</h3>
<p>Install the <code>vscode-nim</code> extension from <a href="https://github.com/saem/vscode-nim">here</a></p>
<h3>Emacs</h3>
<ul>
<li>Install <a href="https://github.com/emacs-lsp/lsp-mode">lsp-mode</a> and <code>nim-mode</code> from melpa and add the following to your
config:</li>
</ul>
<pre>  <code class="language-elisp">(add-hook &apos;nim-mode-hook #&apos;lsp)
</code></pre>
<h2>Related Projects</h2>
<ul>
<li>
<p>  <a href="https://github.com/PMunch/nimlsp">nimlsp</a></p>
<p>Both <code>nimlangserver</code> and <code>nimlsp</code> are based on <code>nimsuggest</code>, but the main
difference is that <code>nimlsp</code> has a single specific version of <code>nimsuggest</code>
embedded in the server executable, while <code>nimlangserver</code> launches <code>nimsuggest</code>
as an external process. This allows <code>nimlangserver</code> to handle any <code>nimsuggest</code>
crashes more gracefully.</p>
</li>
</ul>
<h2>License</h2>
<p>MIT</p>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        MIT
                    </p>
                

                
                    <p> <a href="https://github.com/nim-lang/langserver">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2023-10-12T01:06:06Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
