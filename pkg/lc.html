<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">lc</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">terminal</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">cli</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">binary</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">linux</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">unix</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">bsd</button></a>
                </span>
            
        </p>
        <p class="pkg-desc">some("A post-modern, \"multi-dimensional\" configurable ls/file lister")</p>
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install lc" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><p>For the impatient, here is a screenshot:</p>
<p>  <img src="https://raw.githubusercontent.com/c-blake/lc/master/screenshots/main.png" style="max-width: 100%;" alt="screenshot" /></p>
<p>Getting an <code>lc</code> config going <em>should</em> be as easy as (on Debian):</p>
<pre>  <code>apt install nim  #(https://nim-lang.org/ has other options)
nimble install lc
git clone https://github.com/c-blake/lc
cp -r lc/configs/cb0 $HOME/.config/lc
$HOME/.nimble/bin/lc    #-h gives a large help message
</code></pre>
<p>The Nim experience can sometimes have fairly rough-hewn edges, though.  So far,
though, something like the above has worked for me on Gentoo Linux, Debian,
Android Termux, and FreeBSD.</p>
<h1>What <code>lc</code> is Not</h1>
<p>This program is not and never will be a drop-in replacement for <code>ls</code> at the CLI
option compatibility level.  <code>ls</code> is a poorly factored mishmash of selection,
sorting, and formatting options.  With fewer CLI options (but beefier configs)
<code>lc</code> is many-fold more flexible.  It can create similar output, but my main
impetus to write <code>lc</code> was always a better functionality factoring not mere
recapitulation.  So, <code>lc</code> is <em>not</em> just &quot;ls in Nim&quot;.  If you want <code>ls</code>, it has
big companies supporting it &amp; isn&apos;t going anywhere.</p>
<p><code>lc</code> is also not <code>stat</code> or <code>find</code>.  Those have their roles for spot-checking or
generating program-consumed data streams.  <code>lc</code> is about human-friendly output,
helping you see and/or create organization you want in your file sets and shine
light on unexpected things as you go about everyday business listing your files.
As such, absolute max performance is not a priority as human reaction time is
not so fast &amp; very large directories are usually ill-advised.</p>
<h1>What <code>lc</code> is</h1>
<p>Enough disclaimers about what <code>lc</code> is <em>not</em>.  What <em>is</em> <code>lc</code>?  Why do we need
yet another file lister?  What&apos;s the point?  Well, <code>lc</code></p>
<ul>
<li>
<p>is clearly factored into independent actions and very configurable</p>
</li>
<li>
<p>has good CLI ergonomics (unique prefixes good enough, spellcheck, etc.)</p>
</li>
<li>
<p>supports multi-level sorting for many forward/reverse attributes</p>
</li>
<li>
<p>supports arbitrary assignment of &quot;file kind order&quot; for use in sorting</p>
</li>
<li>
<p>supports &quot;multi-dimensional reasoning&quot; about file kinds, including both
text attribute layers and an &quot;icon vector&quot; (for utf8 &quot;icons&quot;, anyway)</p>
</li>
<li>
<p>supports both latter-day nanosecond file times and <em>very</em> abbreviated ages</p>
</li>
<li>
<p>has value-dependent coloring for file times, sizes, permissions, etc.</p>
</li>
<li>
<p>can emit &quot;hyperlink&quot; escape codes to make entries clickable in some terminals</p>
</li>
<li>
<p>supports file/user/group/link target abbreviation via <code>-mNum</code>, <code>-ma</code>, etc.</p>
</li>
<li>
<p>supports &quot;local tweak files&quot; - extra config options in a local <code>.lc</code> (or a
<code>.lc</code> in a shadow tree under a user&apos;s control if needed).  Nice to eg, avoid
NFS automounts or inversely to engage expensive classification, for dirs with
special sorts, formats, ..</p>
</li>
<li>
<p>supports &quot;theming&quot; (operationally, environment-variable-keyed cfg includes)</p>
</li>
<li>
<p>supports latter-day Linux statx/b)irth times (but works on non-Linux, too)</p>
</li>
<li>
<p>supports <code>file(1)</code>/<code>libmagic</code> deep file inspection-based classification
(though using this with large directories can be woefully slow)</p>
</li>
<li>
<p>is extensible with fully user-defined file type tests &amp; field formats</p>
</li>
<li>
<p>is compact (~1000 lines; ~300 is tables&amp;help, ~300 of <code>cligen/[tab, humanUt]</code>
might be part of <code>lc</code> if I didn&apos;t write both pkgs.)</p>
</li>
<li>
<p>has few dependencies (just <code>cligen</code> and the Nim stdlib)</p>
</li>
<li>
<p>is a work in progress, but a unique enough bundle of useful ideas to share.
With so many features and few users, there are likely bugs.</p>
</li>
</ul>
<h1>Multi-dimensionality/Attribute Layers</h1>
<p>The most obscure of these is likely &quot;multi-dimensional&quot;.  I mean this in the
mathematical &quot;independent coordinate&quot; sense <strong>not</strong> a Jurassic Park (1993)-esque
graphical file tree sense.  Examples of dimensions/attributes may help.</p>
<p>Output text can set the foreground &amp; background colors of text independently.  I
happen to like <a href="https://git.suckless.org/st/">st</a> for its hackability.  That can
do bold, italic, blink, underline, struck, inverse as 6 independent attributes.
(Color inversion involves a mapping too complex to be a very useful visual aid.)
So, 7 usable output dimensions, with 5 being shallow 1-bit dimensions.  While
subjective, I find identifying/distinguishing text with all those attributes not
hard my primary displays/fonts.  Geographical map folk often call this &quot;layers&quot;.
<code>lc</code> aids &quot;aligning&quot; rendered output traits with classified input traits.</p>
<p>The input/data side has <em>many</em> more independent fields &amp; bits.  While <code>d_type</code>
is mutually exclusive, most are not.  E.g., a file can be both an executable
regular file and some kind of script source or both a directory and a directory
with a sticky bit set.  Add all of <code>struct stat</code> and deep file header inspection
and the type space explodes.  Only end users can prioritize use of precious few
output traits.  To aid this use, <code>lc</code> users can configure file kinds to pair
with picked poisons of output traits.<a href="Operationally,">^1</a></p>
<p>This may sound daunting, but many highlighting systems follow this model - e.g.
a misspelled word bolded inside a source code comment.  <code>lc</code> simply recognizes
the mathematical structure to try to enable smarter allocation/assignment over
more dimensions than (misspelling, comment) due to file kind diversity.</p>
<h1>Configurability</h1>
<p>As for the bread and butter of file listing, many things that are hard-coded in
other file listers are fully user-defined in <code>lc</code>, like a concept of dot files.
Assuming you define a &quot;dot&quot; or &quot;dotfile&quot; type <code>lc -xdot</code> will probably exclude
those from a listing.  (Unique prefixes being adequate may mean a longer string
if you define other file kinds with names starting with &quot;dot&quot;.)</p>
<p>I usually have a shell alias that does the <code>-xdot</code> and a related alias ending
with an &quot;a&quot; that does not.  That mimics <code>ls</code> usage, but without spaces and &apos;-&apos;s
to enter.  If the listing is well organized, seeing dot files by default may be
considered as much a feature as a bug.  Including everything by default lets
&quot;dot&quot; be user-defined.</p>
<p>You can also do <code>-idot</code> to list <em>only</em> the dot files (or any other user/system
defined file kind) which is not something available in most file listers.  It&apos;s
also not always easy to replicate via shell globbing the input list.  Eg., <code>lc -r0 -idir -iodd</code> in my config can be illuminating on very aged file trees.</p>
<p>Multi-level sorting and user format strings are similar ideas to other tools
like the Linux <code>ps</code>, <code>stat -c</code>, and <code>find -printf</code>.  Sorting by file kind is
possible and &quot;kind orders&quot; are user-configurable.  Between kind order assignment
and multi-dimensionality you can filter &amp; group almost any way that makes sense,
and none of that needs any changing of <code>lc</code> proper - just your configuration.
Less can be more with good factoring.  <code>lc</code> is more an &quot;<code>ls</code> framework&quot;.</p>
<p>Because of all that flexibility, <code>lc</code> has a built in style/aliasing system.
This lets you name canned queries &amp; reports and refer to them, like <code>lc -sl</code>.
My view is that there is no one-size-fits-all-or-even-most long-format listing.
<code>ls -sl</code> or a shorter <code>ll=&apos;lc -sl&apos;</code> alias is the way to go.  Then you can make
columns included (and their <code>order</code>, <code>--header</code> or not, ..) all just how you
like.  I usually like 5 levels of long-ness, not 2, in my personal setup in
<code>configs/cb0/config</code> (&amp; files included there).</p>
<h1>Automatic Abbreviations</h1>
<p>A feature I don&apos;t know of any terminal file listers using is abbreviation (GUIs
have this, though and PowerShell9k/10k in single-path prompt contexts).  Most
everyone has probably been annoyed at one time or another by some pesky few
overlong filenames in a directory messing up column widths in a file listing.
<code>lc -m16</code> lets you limit displayed length to 16 (or whatever) characters.</p>
<p><code>lc</code> replaces the (user-definable) &quot;middle slice&quot; with a user-definable string.
While you can use some UTF8 ellipsis, you probably want <code>*</code> since that choice
will make most abbreviations copy-pasteable shell patterns.</p>
<p>Manual width &amp; slice selection may not result in patterns that expand uniquely,
but <code>lc</code> has you covered with a variety of automatic abbreviation options that
are unique: specified head|tail, mid-point (for those 2 just leave &quot;,&quot; fields
blank), unique best-common-point (start width with &quot;a&quot;), unique prefix (-2) or
suffix (-3), the shorter *fix (-4), the shortest 1-star-anywhere (-5) and
shortest 2-star (-6).  E.g.,</p>
<p>  <img src="https://raw.githubusercontent.com/c-blake/lc/master/screenshots/ma.png" style="max-width: 100%;" alt="ma.png" /></p>
<p>(or see <a href="https://htmlpreview.github.io/?https://raw.githubusercontent.com/c-blake/lc/master/screenshots/src-linux-script/progression.html">a bigger example</a> )</p>
<p>There are similar <code>-U</code>, <code>-G</code>, <code>-M</code> for user user names, group names, and symlink
targets.  While shells will not expand <code>*</code> in user/group names, you can change
the separator to something else or even the empty string to save terminal
columns as in <code>-U4,,,</code> and have a little <code>grep &lt;PASTE&gt; /etc/passwd</code> helper.</p>
<p>Auto modes are not yet available for symlink targets since when they matter most
they are a bit expensive (requiring minimizing patterns over whole directories
for every path component).</p>
<h1>Some Details On Other Features</h1>
<p>In many little ways, <code>lc</code> tries hard to let you manage terminal real estate,
targeting max information per row, while staying within an easy to visually
parse table format.  Features along these lines are terse 4 column octal
permission codes, rounding to 3-column file ages, 4 column file sizes.</p>
<p>If it is too dense, you can have fewer, more spaced out columns with <code>lc -n4</code> or
similar.  If it is too sparse, you can use <code>-m</code>, drop format fields <em>or</em>
identify the most effective rename targets with <code>lc -w5 -W$((COLUMNS+10))</code> which
shows the widest 5 files in each output column formatted as if you had 10 more
terminal cols.  A hard-to-advocate-but-possible way to save space is <code>lc -oL</code>.
Try it. { I suspect this minimizes rows within a table constraint, but the proof
is too small to fit in the margin. ;-)  Maybe a 2D bin packing expert can weigh
in with a counter example. }</p>
<p>In the other direction, <code>lc</code> supports informational bonuses like ns-resolution
file times with <code>%1..%9</code> extensions to the <code>strftime</code> format language for
fractions of a second to that many places, rate of disk utilization
(<code>512*st_blocks/st_size</code> = allocated/addressable file bytes), newer Linux
<code>statx</code> attributes and birth times, and more.</p>
<p><code>lc</code> also comes with boolean logic combiners for file kind tests, many built-in
tests, and is extensible for totally user-defined tests and formats.  If there&apos;s
just a thing or two missing then you can likely add it without much work.  Given
human reading time and fast NVMe devices, even doing &quot;du -s&quot; inside a format is
not unthinkable, though unlikely to be a popular default style.  Hard-coding Git
support seems popular these days.  I don&apos;t do that yet.  I&apos;m not sure I want a
direct dependency, but you may be able to hack something together.</p>
<p>users just pick small integer labels for kinds aka series
of order-dependent tests aka classes.  The first passing kind test within a
dimension wins that dimension.  To aid debugging kind assignments you can do
things like <code>lc -f%0%1%2%3%4%5\ %f</code> to see coordinates in the first 6 dims.  The
inspiration for this system was having &quot;dot-file directories&quot; sorted in a block
before all dot regular files, but it is obviously much more general.</p>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        MIT
                    </p>
                

                
                    <p> <a href="https://github.com/c-blake/lc">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2023-05-23T01:20:45Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
