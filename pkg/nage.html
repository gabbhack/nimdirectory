<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">nage</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">app</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">binary</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">game</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">engine</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">cli</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">rpg</button></a>
                </span>
            
        </p>
        <p class="pkg-desc">some("Not Another Game Engine; CLI text adventure engine")</p>
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install nage" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><h1>  <a href="https://github.com/acikek/nage-2">nage   <code>2.x</code> is written in Rust</a></h1>
<p>It&apos;s not you, Nim... it&apos;s me. My code wasn&apos;t great and I wanted to rewrite it in something I was more familiar with. However, your spirit lives on in the <strong>n</strong> in <strong>nage</strong>!</p>
<h1>nage</h1>
<p><strong>N</strong>ot <strong>A</strong>nother <strong>G</strong>ame <strong>E</strong>ngine</p>
<p>Well actually, it <em>is</em> a game engine. I just wanted to start with &quot;N&quot; because this is my first project using Nim.</p>
<p>The concept is heavily inspired by <strong>  <a href="https://github.com/acikek/jage">jage</a></strong>, a data-driven <em>RPG</em> text adventure engine that was way out of its scope.</p>
<p>But I finished it this time! With <strong>nage</strong>, you can make fully data-driven and non-linear text adventure games with only YAML files.</p>
<h2>Creating a Game</h2>
<p>A game&apos;s entrypoint is <code>nage.yml</code> in the working directory. It uses a metadata format with the following fields:</p>
<ul>
<li><code>name</code>: The name of the game</li>
<li><code>authors</code>: A list of author(s) for the game to credit</li>
<li><code>version</code>: The game&apos;s version; doesn&apos;t follow any specific format, but SemVer is always good</li>
<li><code>background</code>: An optional introductory text that the game will display on first launch</li>
<li><code>entry</code>: a <code>Path</code> object that controls the initial prompt container. A path has a <code>prompt</code> field and an optional (but required here) <code>file</code> field, but we&apos;ll talk more about that later.</li>
<li><code>notes</code>: Optional list of notes to apply on startup; covered later</li>
<li><code>variables</code>: Optional tables of variables to apply on startup; again covered later</li>
<li><code>save</code>: Whether to automatically save the game on quit. This is always overriden by the <code>.quit</code> command. <code>true</code> by default</li>
<li><code>debug</code>: Whether to enable debug commands; defaults to <code>false</code>, leave it as that in the finished product</li>
</ul>
<p>Example:</p>
<pre>  <code class="language-yml">name: The Wandering Warrior
authors:
  - acikek
version: v0.1.0
background: You are a warrior, wandering.
entry:
  file: main
  prompt: main
</code></pre>
<h3>Prompts</h3>
<p>Each <strong>nage</strong> interaction is controlled by a <strong>Prompt</strong>, an object container that displays a few lines of text before presenting the player with <strong>Choices</strong>. Choices lead back to other prompts (or even the same prompts).</p>
<p>Prompts are not recursive; they don&apos;t hold sub-prompts. This allows for non-linear jumps with an added readability boost.</p>
<p>Additionally, all prompt files are located in the <code>prompts</code> directory. This can have as many subdirectories as you desire, since this directory is walked through recursively and combines all the filenames to file data in a single table. For this reason, you <strong>cannot have any files with the same name</strong>, regardless of subdirectory.</p>
<p>This is where the <code>Path</code> data comes in: the <code>file</code> field is the file name, and the <code>prompt</code> is the prompt name <em>in that file</em>.</p>
<p>Prompts and Choices share a common <code>Text</code> object type, which has two fields: <code>text</code>, which controls the content of the display, and <code>mode</code>, which controls how it&apos;s displayed. There are currently only two modes, <code>action</code>, which leaves the text as-is, and <code>dialogue</code> (default), which surrounds the text in quotes. You can use these together sequentially to break up prompts.</p>
<p>With all that out of the way, we can go over how Prompts and Choices are structured. Prompts have the following fields:</p>
<ul>
<li><code>prompt</code>: A list of <code>Text</code> objects to display on entering the prompt
<ul>
<li>This is always optional, but should only be left out in case the game ends here.</li>
</ul>
</li>
<li><code>choices</code>: A list of <code>Choice</code> objects</li>
</ul>
<p>And Choices are much more complex, with the following fields:</p>
<ul>
<li><code>response</code>: A single <code>Text</code> object, to be displayed alongside a list index
<ul>
<li>This can be optional, but <strong>only</strong> if there aren&apos;t any other choices. If left out, will skip any user input and jump straight to the next prompt. Mostly used alongside <code>display</code> for <em>redirect</em> functionality</li>
</ul>
</li>
<li><code>jump</code>: A <code>Path</code> object that controls which prompt this choice should lead to
<ul>
<li>If the prompt is in the same file, <code>file</code> can be ommitted entirely!</li>
<li>If the <code>ending</code> field is present, this field is optional</li>
<li>The prompt validator will catch any mistakes you make, so don&apos;t worry about getting it right on the first try</li>
</ul>
</li>
<li><code>display</code>: Whether to display the next prompt&apos;s intro text</li>
<li><code>notes</code>: A <code>Notes</code> object, controlling whether this prompt should be displayed and how it affects the player&apos;s state; covered in the <a href="#Notes">Notes</a> section</li>
<li><code>variables</code>: A table to merge with the player&apos;s variables; covered in the <a href="#Variables">Variables</a> section</li>
<li><code>input</code>: An <code>Input</code> object, controlling optional user input for variables</li>
<li><code>ending</code>: All games have to end somewhere! If this field is present, its content will be displayed to the player, and then the game will end (after saving).</li>
</ul>
<p>Here is an example prompt object (without any notes):</p>
<pre>  <code class="language-yml">main:
  prompt:
  - text: What brings you here?
  - text: He beckons you closer.
    mode: action
  choices:
  - response: 
      text: I&apos;m just looking around.
    jump:
      prompt: looking_around
  - response: 
      text: I have work to do.
    jump:
      prompt: work_to_do
  - response:
      text: Run away due to social anxiety
      mode: action
    ending: Well, that&apos;s that.
</code></pre>
<h3>Notes</h3>
<p>Notes are mutable state on a player that can be used to conditionally reveal or hide choices. You can add and remove notes, and require notes to be present or not present on a player. They are stored as plaintext strings in a list, so make sure they&apos;re unique throughout the game.</p>
<p>Each choice has an optional <code>notes</code> field which is a <code>Notes</code> object. Those contain the following fields, both optional:</p>
<ul>
<li><code>require</code>: A list of <code>NoteRequirement</code>s, which have the following fields:
<ul>
<li><code>name</code>: The name of the note, matches exactly</li>
<li><code>has</code>: Whether the player should have the note, <code>true</code> by default; must match exactly to pass</li>
</ul>
</li>
<li><code>apply</code>: A list of <code>NoteApplication</code>s, which have the following fields:
<ul>
<li><code>name</code>: The name of the note</li>
<li><code>take</code>: Whether to take the note from the player, <code>false</code> by default (which means it gives the note)</li>
</ul>
</li>
<li><code>once</code>: A note name. Upon using this choice, the player gains the specified note; however, whenever the player is presented with this choice, and they have this note, the choice will be hidden. This makes it a pick-once choice, and is equivalent to:</li>
</ul>
<pre>  <code class="language-yml">notes:
  require:
  - name: thing
    has: false
  apply:
  - name: thing
</code></pre>
<p>It&apos;s up to you to design the best note approach for your game, but know that you can do some pretty advanced stuff with them!</p>
<h3>Variables</h3>
<p>Variables are permanent state, like notes, but for <strong>display purposes only</strong>. They can be interpolated in any display string except a game&apos;s background.</p>
<p>Variables can take direct user input and store the result on the player data, with the only validation being the result is not empty. You can also apply them normally via choices or on startup in the metadata.</p>
<p>To take user input, create a single-choice prompt with an <code>input</code> field instead of <code>response</code>. An input object has the following fields:</p>
<ul>
<li><code>text</code>: An optional string, <strong>not</strong> a text object, that acts as an additional input prompt. Appends a colon <code>:</code> automatically</li>
<li><code>variable</code>: The name of the variable to store the result in</li>
</ul>
<p>Here&apos;s an example input prompt:</p>
<pre>  <code class="language-yml">ask_for_name:
  prompt:
  - text: What should I call you?
  choices:
  - input:
      text: Enter your name
      variable: name
    jump:
      prompt: main
</code></pre>
<p>To interpolate variables into text strings, simply wrap the variable name (<strong>case sensitive</strong>) in angle brackets (<code>&lt; &gt;</code>).</p>
<ul>
<li>If no variables exist on the player, <strong>nage</strong> won&apos;t bother modifying the text whatsoever.</li>
<li>If variables exist, but an invalid variable name is provided, the engine will fill it in with <code>UNDEFINED</code>.</li>
</ul>
<p>Variables <em>are</em> actually variable; you can overwrite a variable&apos;s value at any time. Here&apos;s what it could look like when all put together, combined with the previous example:</p>
<pre>  <code class="language-yml">main:
  prompt: 
  - text: Greetings, &lt;name&gt;. What brings you here?
  choices:
  - response:
      text: Actually, I go by a different name.
    display: false
    jump:
      prompt: ask_for_name
  - response:
      text: A fight to the death!
    jump: ...
</code></pre>
<h3>Extra Info</h3>
<ul>
<li>Player data is stored in a <code>data.yml</code> file which is created after you first quit the game. Players shouldn&apos;t touch this, but they can if they really want to; the file is just more accessible than conventional games would allow. Players <em>especially</em> shouldn&apos;t be <em>encouraged</em> to modify the state in order to progress, unless your game is super meta or something.</li>
<li>If a player runs into a situation where no choices are available, that&apos;s a bug, and you need to fix it. The game will shut down with a message telling the player to contact the author(s).</li>
<li>A comprehensive example of a game is located in the aptly-named <code>game</code> directory, <a href="https://github.com/acikek/nage/game">found here</a>! I&apos;m not lying, it&apos;s all YAML!</li>
</ul>
<h2>Commands</h2>
<p>When playing a game, the user has the option to run <strong>commands</strong>, prefixed with a <code>.</code> character. They are especially useful in a debug environment, when far more commands are available. This is why you should turn off <code>debug</code> in the finished game; you don&apos;t want players to be able to see the internal workings of it.</p>
<p>To view all available commands, just run <code>.help</code>.</p>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        MIT
                    </p>
                

                
                    <p> <a href="https://github.com/acikek/nage">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2023-06-06T01:44:06Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
