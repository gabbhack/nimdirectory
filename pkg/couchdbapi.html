<!DOCTYPE html>
<html lang="en">
<head>
  <title>Nim Package Directory</title>
  <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="New and updated Nim packages" href="https://nimble.directory/packages.xml">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlite.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script type="text/javascript" src="/js/app.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a href="/" class="logo fw-500 display-1 text-black text-decoration-none navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item mx-2">
          <a href="https://nim-lang.org/" class="nav-link">What's Nim?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="/about.html" class="nav-link">What's Nimble?</a>
        </li>
        <li class="nav-item mx-2">
          <a href="https://github.com/nim-lang/packages/" class="nav-link">Publish your package</a>
        </li>
        <!-- TODO: replace with something different -->
        <li class="nav-item ms-3">
          <a class="nav-link" href="https://www.youtube.com/channel/UCDAYn_VFt0VisL5-1a5Dk7Q/">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </li>
        <li class="nav-item ms-3">
          <a class="nav-link theme-switcher-btn" id="darkmode" onclick="toggle_dark_mode()" href="#">
            <span id="light-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </span>
            <span id="dark-mode-icon">
            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="content">
  <div class="container">
    <div class="container pt-10">
        <h3 class="mb-3 fw-bold display-6 pt-4">couchdbapi</h3>
        <p class="tags">
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">couchdb</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">database</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">apache</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">nosql</button></a>
                </span>
            
                <span class="tag">
                    <button class="btn-tag pkg-btn-tag">json</button></a>
                </span>
            
        </p>
        
            <p class="pkg-desc">Apache CouchDb driver (REST API) for nim lang.</p>
        
        <a title="Copy" onclick="document.querySelector('#cmd').select();document.execCommand('copy');"
            alt="Copy on clipboard">
            <i class="fa fa-copy"></i>
        </a>
        <input id="cmd" onclick="this.select();" value="nimble install couchdbapi" readonly="">
        <br>
        <small style="font-size: 0.8rem;">Need help? Read <a
                href="https://github.com/nim-lang/nimble#creating-packages">Nimble</a></small>
    </div>

    <div class="container row pt-4" id="pkg-content">
        <div class="col-8 box rounded p-3" id="readme-section">
            
                <document><h3>About</h3>
<p>https://github.com/zendbit/nim.couchdbapi is connection driver (REST API) to Apache CouchDb. This helper implements all functionality except the deprecated and authentication api.</p>
<h3>Installation</h3>
<pre>  <code>nimble install couchdbapi
</code></pre>
<h3>Usage</h3>
<ul>
<li>Create couchdb object, the jwtToken is optional, if you want to use secure connection set secure to true (default false)</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">import</span> <span class="ide">couchdbapi</span></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">Test</span>() {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>} <span class="op">=</span></div></div><div class="line"><div class="line-content">  <span class="kwd">let</span> <span class="ide">couchDb</span> <span class="op">=</span> <span class="ide">newCouchDb</span>(</div></div><div class="line"><div class="line-content">    <span class="ide">username</span> <span class="op">=</span> <span class="str">&quot;administrator&quot;</span>,</div></div><div class="line"><div class="line-content">    <span class="ide">password</span> <span class="op">=</span> <span class="str">&quot;administrator&quot;</span>,</div></div><div class="line"><div class="line-content">    <span class="ide">host</span> <span class="op">=</span> <span class="str">&quot;127.0.0.1&quot;</span>,</div></div><div class="line"><div class="line-content">    <span class="ide">port</span> <span class="op">=</span> <span class="num">5984</span>,</div></div><div class="line"><div class="line-content">    <span class="ide">jwtToken</span> <span class="op">=</span> <span class="str">&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbmlzdHJhdG9yIiwia2lkIjoiYWRtaW5pc3RyYXRvciIsInJvbGVzIjpbIl9hZG1pbiJdfQ.NWQiPIV_yO937Uzg9YHZvFxRR8_osvLaK-lrjhOhxnM&quot;</span>)</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content">  <span class="com">## switch database</span></div></div><div class="line"><div class="line-content">  <span class="ide">couchDb</span><span class="op">.</span><span class="ide">switchDatabase</span>(<span class="str">&quot;zendblock&quot;</span>)</div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content">  <span class="com">## create database zendblock</span></div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="ide">await</span> <span class="ide">couchDb</span><span class="op">.</span><span class="ide">databasePut</span>()</div></div><div class="line"><div class="line-content">  </div></div><div class="line"><div class="line-content"></div></div><div class="line"><div class="line-content">  <span class="com">## switch database</span></div></div><div class="line"><div class="line-content">  <span class="ide">couchDb</span><span class="op">.</span><span class="ide">switchDatabase</span>(<span class="str">&quot;zendblock-snapshot&quot;</span>)</div></div><div class="line"><div class="line-content">  <span class="com">## create database zendblock-snapshot for snapshot/replication</span></div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="ide">await</span> <span class="ide">couchDb</span><span class="op">.</span><span class="ide">databasePut</span>()</div></div><div class="line"><div class="line-content">  </div></div><div class="line"><div class="line-content">  <span class="com">## replicate database from zendblock to zendblock-snapshot</span></div></div><div class="line"><div class="line-content">  <span class="ide">echo</span> <span class="ide">await</span> <span class="ide">couchDb</span><span class="op">.</span><span class="ide">serverPostReplicate</span>(<span class="op">%*</span>{</div></div><div class="line"><div class="line-content">    <span class="str">&quot;source&quot;</span>: <span class="str">&quot;zendblock&quot;</span>,</div></div><div class="line"><div class="line-content">    <span class="str">&quot;target&quot;</span>: <span class="str">&quot;zendblock-snapshot&quot;</span></div></div><div class="line"><div class="line-content">  })</div></div><div class="line"><div class="line-content">  </div></div><div class="line"><div class="line-content"><span class="kwd">if</span> <span class="ide">isMainModule</span>:</div></div><div class="line"><div class="line-content">  <span class="ide">waitFor</span> <span class="ide">Test</span>()</div></div>  </code></pre>
<h3>Create new document with attachment</h3>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newDocumentWithAttachments</span><span class="op">*</span>(<span class="ide">jsonData</span>: <span class="ide">JsonNode</span>, <span class="ide">attachments</span>: <span class="ide">seq</span>[<span class="ide">DocumentAttachment</span>]): <span class="ide">Future</span>[<span class="kwd">tuple</span>[<span class="ide">body</span>: <span class="ide">string</span>, <span class="ide">boundary</span>: <span class="ide">string</span>, <span class="ide">length</span>: <span class="ide">int</span>]] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  create new document with given attachment</span></div></div><div class="line"><div class="line-content">    <span class="com">##  will automatic convert to multipart/related</span></div></div><div class="line"><div class="line-content">    <span class="com">##  if the attachment not valid (fileContent) file path</span></div></div><div class="line"><div class="line-content">    <span class="com">##  it will use that content as attachment filewill</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Create new CouchDb object</h3>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">newCouchDb</span><span class="op">*</span>(</div></div><div class="line"><div class="line-content">    <span class="ide">username</span>: <span class="ide">string</span>,</div></div><div class="line"><div class="line-content">    <span class="ide">password</span>: <span class="ide">string</span>,</div></div><div class="line"><div class="line-content">    <span class="ide">host</span>: <span class="ide">string</span>,</div></div><div class="line"><div class="line-content">    <span class="ide">port</span>: <span class="ide">int</span>,</div></div><div class="line"><div class="line-content">    <span class="ide">jwtToken</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>,</div></div><div class="line"><div class="line-content">    <span class="ide">secure</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>): <span class="ide">CouchDb</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  create new couchdb instance</span></div></div><div class="line"><div class="line-content">    <span class="com">##  jwt token is optional</span></div></div><div class="line"><div class="line-content">    <span class="com">##  if jwt toke empty will use basic auth</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  CouchDb object</span></div></div><div class="line"><div class="line-content">    <span class="com">##  hold couchdb information</span></div></div><div class="line"><div class="line-content">    <span class="com">##  for secure/https set secure to true</span></div></div><div class="line"><div class="line-content">    <span class="com">##  if jwt token exist default auth will use it</span></div></div><div class="line"><div class="line-content">    <span class="com">##  if jwt token empty will fallback into basic auth</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Switch default database for entire operation</h3>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">switchDatabase</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">database</span>: <span class="ide">string</span>) <span class="op">=</span></div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div><div class="line"><div class="line-content">  <span class="com">##  switch to default database name for operation</span></div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div>  </code></pre>
<h3>Get server information</h3>
<p>Accessing the root of a CouchDB instance returns meta information about the instance. The response is a JSON structure containing information about the server, including a welcome message and the version of the server.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetInfo</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>} <span class="op">=</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">## https://docs.couchdb.org/en/latest/api/server/common.html#get--</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get active tasks</h3>
<p>List of running tasks, including the task type, name, status and process ID. The result is a JSON array of the currently running tasks, with each task being described with a single object. Depending on operation type set of response object fields might be different.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_active_tasks</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetActiveTasks</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_active_tasks</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get all databases in server</h3>
<p>Returns a list of all the databases in the CouchDB instance.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_all_dbs</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetAllDbs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">descending</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">startkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">endkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">## https://docs.couchdb.org/en/latest/api/server/common.html#get--_all_dbs</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get database info</h3>
<p>Returns a list of all the databases information in the CouchDB instance.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_dbs_info</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetDbsInfo</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">descending</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">startkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">endkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">## https://docs.couchdb.org/en/latest/api/server/common.html#get--_dbs_info</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post to get database info</h3>
<p>Returns information of a list of the specified databases in the CouchDB instance. This enables you to request information about multiple databases in a single request, in place of multiple GET /{db} requests.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#post--_dbs_info</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverPostDbsInfo</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">keys</span>: <span class="ide">seq</span>[<span class="ide">JsonNode</span>]): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">## https://docs.couchdb.org/en/latest/api/server/common.html#post--_dbs_info</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get server cluster setup</h3>
<p>Returns the status of the node or cluster, per the cluster setup wizard.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_cluster_setup</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetClusterSetup</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ensureDbsExist</span>: <span class="ide">seq</span>[<span class="ide">string</span>] <span class="op">=</span> <span class="op">@</span>[<span class="str">&quot;_users&quot;</span>, <span class="str">&quot;_replicator&quot;</span>]): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_cluster_setup</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post to configure cluster, setup as node cluster</h3>
<p>Configure a node as a single (standalone) node, as part of a cluster, or finalise a cluster.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#post--_cluster_setup</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverPostClusterSetup</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#post--_cluster_setup</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get database updates</h3>
<p>Returns a list of all database events in the CouchDB instance. The existence of the _global_changes database is required to use this endpoint.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_db_updates</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetDbUpdates</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">feed</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;normal&quot;</span>, <span class="ide">timeout</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">6000</span>, <span class="ide">heartbeat</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">6000</span>, <span class="ide">since</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;now&quot;</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_db_updates</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get nodes in cluster</h3>
<p>Displays the nodes that are part of the cluster as cluster_nodes. The field all_nodes displays all nodes this node knows about, including the ones that are part of the cluster. The endpoint is useful when setting up a cluster.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_membership</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetMembership</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_membership</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Replicate database between node or local server</h3>
<p>Request, configure, or stop, a replication operation.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_membership</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverPostReplicate</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_membership</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get scheduler jobs</h3>
<p>List of replication jobs. Includes replications created via /_replicate endpoint as well as those created from replication documents. Does not include replications which have completed or have failed to start because replication documents were malformed. Each job description will include source and target information, replication id, a history of recent event, and a few other things.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_scheduler-jobs</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetSchedulerJobs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">limit</span>: <span class="ide">int</span>, <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_scheduler-jobs</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get scheduler docs</h3>
<p>List of replication document states. Includes information about all the documents, even in completed and failed states. For each document it returns the document ID, the database, the replication ID, source and target, and other information.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_scheduler-docs</li>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_scheduler-docs-replicator_db</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetSchedulerDocs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">limit</span>: <span class="ide">int</span>, <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">replicatorDb</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_scheduler-docs</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_scheduler-docs-replicator_db</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get scheduler docs</h3>
<p>Get information about replication documents from a replicator database. The default replicator database is _replicator but other replicator databases can exist if their name ends with the suffix /_replicator.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_scheduler-docs-replicator_db-docid</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetSchedulerDocs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">replicatorDb</span>: <span class="ide">string</span>, <span class="ide">docId</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_scheduler-docs-replicator_db-docid</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get node</h3>
<p>The /_node/{node-name} endpoint can be used to confirm the Erlang node name of the server that processes the request. This is most useful when accessing /_node/_local to retrieve this information. Repeatedly retrieving this information for a CouchDB endpoint can be useful to determine if a CouchDB cluster is correctly proxied through a reverse load balancer.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_node-node-name</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetNode</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">nodeName</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_node-node-name</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get node state</h3>
<p>The _stats resource returns a JSON object containing the statistics for the running server. The object is structured with top-level sections collating the statistics for a range of entries, with each individual statistic being easily identified, and the content of each statistic is self-describing.</p>
<p>Statistics are sampled internally on a configurable interval. When monitoring the _stats endpoint, you need to use a polling frequency of at least twice this to observe accurate results. For example, if the interval is 10 seconds, poll _stats at least every 5 seconds.</p>
<p>The literal string _local serves as an alias for the local node name, so for all stats URLs, {node-name} may be replaced with _local, to interact with the local node’s statistics.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_node-node-name-_stats</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetNodeStats</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">nodeName</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_node-node-name-_stats</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get node in prometheus format</h3>
<p>The _prometheus resource returns a text/plain response that consolidates our /_node/{node-name}/_stats, and /_node/{node-name}/_system endpoints. The format is determined by Prometheus. The format version is 2.0.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_node-node-name-_prometheus</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetNodePrometheus</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">nodeName</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_node-node-name-_prometheus</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get node system</h3>
<p>The _system resource returns a JSON object containing various system-level statistics for the running server. The object is structured with top-level sections collating the statistics for a range of entries, with each individual statistic being easily identified, and the content of each statistic is self-describing.</p>
<p>The literal string _local serves as an alias for the local node name, so for all stats URLs, {node-name} may be replaced with _local, to interact with the local node’s statistics.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_node-node-name-_system</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetNodeSystem</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">nodeName</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_node-node-name-_system</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post to restart node</h3>
<p>This API is to facilitate integration testing only it is not meant to be used in production.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#post--_node-node-name-_restart</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverPostNodeRestart</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">nodeName</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#post--_node-node-name-_restart</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get node versions</h3>
<p>The _versions resource returns a JSON object containing various system-level informations for the running server.</p>
<p>The literal string _local serves as an alias for the local node name, so for all stats URLs, {node-name} may be replaced with _local, to interact with the local node’s informations.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_node-node-name-_versions</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetNodeVersions</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">nodeName</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_node-node-name-_versions</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post test lucene analyzer</h3>
<p>Tests the results of Lucene analyzer tokenization on sample text.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#post--_search_analyze</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverPostSearchAnalyze</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">field</span>: <span class="ide">string</span>, <span class="ide">text</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#post--_search_analyze</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get if server up</h3>
<p>Confirms that the server is up, running, and ready to respond to requests. If maintenance_mode is true or nolb, the endpoint will return a 404 response.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_up</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetUp</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>} <span class="op">=</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_up</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get uuids</h3>
<p>Requests one or more Universally Unique Identifiers (UUIDs) from the CouchDB instance. The response is a JSON object providing a list of UUIDs.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_uuids</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetUUIDs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">count</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_uuids</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get count of completed resharding</h3>
<p>Returns a count of completed, failed, running, stopped, and total jobs along with the state of resharding on the cluster.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetReshard</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get resharding state</h3>
<p>Returns the resharding state and optional information about the state.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard-state</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetReshardState</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard-state</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Put reshard state</h3>
<p>Change the resharding state on the cluster. The states are stopped or running. This starts and stops global resharding on all the nodes of the cluster. If there are any running jobs, they will be stopped when the state changes to stopped. When the state changes back to running those job will continue running.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#put--_reshard-state</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverPutReshardState</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#put--_reshard-state</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get reshard jobs</h3>
<p>The shape of the response and the total_rows and offset field in particular are meant to be consistent with the _scheduler/jobs endpoint.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard-jobs</li>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard-jobs-jobid</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetReshardJobs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jobId</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard-jobs</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard-jobs-jobid</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post reshard jobs</h3>
<p>Depending on what fields are specified in the request, one or more resharding jobs will be created. The response is a json array of results. Each result object represents a single resharding job for a particular node and range. Some of the responses could be successful and some could fail. Successful results will have the &quot;ok&quot;: true key and and value, and failed jobs will have the &quot;error&quot;: &quot;{error_message}&quot; key and value.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#post--_reshard-jobs</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverPostReshardJobs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#post--_reshard-jobs</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Delete reshard jobs</h3>
<p>If the job is running, stop the job and then remove it.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#delete--_reshard-jobs-jobid</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverDeleteReshardJobs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jobId</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#delete--_reshard-jobs-jobid</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get reshard jobs state</h3>
<p>Returns the running state of a resharding job identified by jobid.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard-jobs-jobid-state</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetReshardJobsState</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jobId</span>: <span class="ide">string</span>, <span class="ide">state</span>: <span class="ide">string</span>, <span class="ide">reason</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard-jobs-jobid-state</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Put reshard jobs state</h3>
<p>Change the state of a particular resharding job identified by jobid. The state can be changed from stopped to running or from running to stopped. If an individual job is stopped via this API it will stay stopped even after the global resharding state is toggled from stopped to running. If the job is already completed its state will stay completed.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard-jobs-jobid-state</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverPutReshardJobsState</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jobId</span>: <span class="ide">string</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/common.html#get--_reshard-jobs-jobid-state</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get node config</h3>
<p>Returns the entire CouchDB server configuration as a JSON structure. The structure is organized by different configuration sections, with individual values.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/configuration.html#get--_node-node-name-_config</li>
<li>see https://docs.couchdb.org/en/latest/api/server/configuration.html#get--_node-node-name-_config-section</li>
<li>see https://docs.couchdb.org/en/latest/api/server/configuration.html#get--_node-node-name-_config-section-key</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverGetNodeConfig</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">nodeName</span>: <span class="ide">string</span>, <span class="ide">section</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">key</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/configuration.html#get--_node-node-name-_config</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/configuration.html#get--_node-node-name-_config-section</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/configuration.html#get--_node-node-name-_config-section-key</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Put node config</h3>
<p>Updates a configuration value. The new value should be supplied in the request body in the corresponding JSON format. If you are setting a string value, you must supply a valid JSON string. In response CouchDB sends old value for target section key.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/configuration.html#put--_node-node-name-_config-section-key</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverPutNodeConfig</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">nodeName</span>: <span class="ide">string</span>, <span class="ide">section</span>: <span class="ide">string</span>, <span class="ide">key</span>: <span class="ide">string</span>, <span class="ide">value</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/configuration.html#put--_node-node-name-_config-section-key</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Delete node config</h3>
<p>Deletes a configuration value. The returned JSON will be the value of the configuration parameter before it was deleted.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/configuration.html#delete--_node-node-name-_config-section-key</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverDeleteNodeConfig</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">nodeName</span>: <span class="ide">string</span>, <span class="ide">section</span>: <span class="ide">string</span>, <span class="ide">key</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/configuration.html#delete--_node-node-name-_config-section-key</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post reload node config</h3>
<p>Reloads the configuration from disk. This has a side effect of flushing any in-memory configuration changes that have not been committed to disk.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/server/configuration.html#post--_node-node-name-_config-_reload</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">serverPostNodeConfigReload</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">nodeName</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/server/configuration.html#post--_node-node-name-_config-_reload</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get database info</h3>
<p>Gets information about the specified database.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/common.html#get--db</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databaseGetInfo</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/common.html#get--db</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Put database</h3>
<p>Creates a new database. The database name {db} must be composed by following next rules:</p>
<ul>
<li>Name must begin with a lowercase letter (a-z)</li>
<li>Lowercase characters (a-z)</li>
<li>Digits (0-9)</li>
<li>Any of the characters _, $, (, ), +, -, and /.</li>
</ul>
<p>If you’re familiar with Regular Expressions, the rules above could be written as ^[a-z][a-z0-9_$()+/-]*$.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/common.html#put--db</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePut</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>,<span class="ide">db</span>: <span class="ide">string</span>, <span class="ide">shards</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">8</span>, <span class="ide">replicas</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">3</span>, <span class="ide">partitioned</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/common.html#put--db</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Delete database</h3>
<p>Deletes the specified database, and all the documents and attachments contained within it.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/common.html#delete--db</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databaseDelete</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/common.html#delete--db</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post database create new document</h3>
<p>Creates a new document in the specified database, using the supplied JSON document structure.</p>
<p>If the JSON structure includes the _id field, then the document will be created with the specified document ID.</p>
<p>If the _id field is not specified, a new unique ID will be generated, following whatever UUID algorithm is configured for that server.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/common.html#post--db</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePost</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">document</span>: <span class="ide">JsonNode</span>,<span class="ide">db</span>: <span class="ide">string</span>, <span class="ide">batch</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/common.html#post--db</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get all docs</h3>
<p>Executes the built-in _all_docs view, returning all of the documents in the database. With the exception of the URL parameters (described below), this endpoint works identically to any other view. Refer to the view endpoint documentation for a complete description of the available query parameters and the format of the returned data.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/bulk-api.html#get--db-_all_docs</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databaseGetAllDocs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>,<span class="ide">db</span>: <span class="ide">string</span>, <span class="ide">descending</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">startkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">endkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">## https://docs.couchdb.org/en/latest/api/database/bulk-api.html#get--db-_all_docs</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post all docs</h3>
<p>POST _all_docs functionality supports identical parameters and behavior as specified in the GET /{db}/_all_docs API but allows for the query string parameters to be supplied as keys in a JSON object in the body of the POST request.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/bulk-api.html#post--db-_all_docs</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostAllDocs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>,<span class="ide">db</span>: <span class="ide">string</span>, <span class="ide">descending</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">startkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">endkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">## https://docs.couchdb.org/en/latest/api/database/bulk-api.html#post--db-_all_docs</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get design docs</h3>
<p>Returns a JSON structure of all of the design documents in a given database. The information is returned as a JSON structure containing meta information about the return structure, including a list of all design documents and basic contents, consisting the ID, revision and key. The key is the design document’s _id.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/bulk-api.html#get--db-_design_docs</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databaseGetDesignDocs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>,<span class="ide">db</span>: <span class="ide">string</span>, <span class="ide">conflicts</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">descending</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">startkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">startkeyDocId</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">endkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">endkeyDocId</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">includeDocs</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">inclusiveEnd</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">true</span>, <span class="ide">key</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">keys</span>: <span class="ide">seq</span>[<span class="ide">JsonNode</span>] <span class="op">=</span> <span class="op">@</span>[], <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">## https://docs.couchdb.org/en/latest/api/database/bulk-api.html#get--db-_design_docs</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post design docs</h3>
<p>POST _design_docs functionality supports identical parameters and behavior as specified in the GET /{db}/_design_docs API but allows for the query string parameters to be supplied as keys in a JSON object in the body of the POST request.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/bulk-api.html#post--db-_design_docs</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostDesignDocs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>,<span class="ide">db</span>: <span class="ide">string</span>, <span class="ide">conflicts</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">descending</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">startkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">startkeyDocId</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">endkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">endkeyDocId</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">includeDocs</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">inclusiveEnd</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">true</span>, <span class="ide">key</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">keys</span>: <span class="ide">seq</span>[<span class="ide">JsonNode</span>] <span class="op">=</span> <span class="op">@</span>[], <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">## https://docs.couchdb.org/en/latest/api/database/bulk-api.html#post--db-_design_docs</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post queries all docs</h3>
<p>Executes multiple specified built-in view queries of all documents in this database. This enables you to request multiple queries in a single request, in place of multiple POST /{db}/_all_docs requests.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/bulk-api.html#post--db-_all_docs-queries</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostAllDocsQueries</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">queries</span>: <span class="ide">JsonNode</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">## https://docs.couchdb.org/en/latest/api/database/bulk-api.html#post--db-_all_docs-queries</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post bulk operation fetch several docs</h3>
<p>This method can be called to query several documents in bulk. It is well suited for fetching a specific revision of documents, as replicators do for example, or for getting revision history.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/bulk-api.html#post--db-_bulk_get</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostBulkGet</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>,<span class="ide">db</span>: <span class="ide">string</span>, <span class="ide">revs</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">true</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">## https://docs.couchdb.org/en/latest/api/database/bulk-api.html#post--db-_bulk_get</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post bulk operation for update several docs</h3>
<p>The bulk document API allows you to create and update multiple documents at the same time within a single request. The basic operation is similar to creating or updating a single document, except that you batch the document structure and information.</p>
<p>When creating new documents the document ID (_id) is optional.</p>
<p>For updating existing documents, you must provide the document ID, revision information (_rev), and new document values.</p>
<p>In case of batch deleting documents all fields as document ID, revision information and deletion status (_deleted) are required.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/bulk-api.html#post--db-_bulk_docs</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostBulkDocs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">## https://docs.couchdb.org/en/latest/api/database/bulk-api.html#post--db-_bulk_docs</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post find docs</h3>
<p>Find documents using a declarative JSON querying syntax. Queries will use custom indexes, specified using the _index endpoint, if available. Otherwise, they use the built-in _all_docs index, which can be arbitrarily slow.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/find.html#post--db-_find</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostFind</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/find.html#post--db-_find</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post create index on database</h3>
<p>Mango is a declarative JSON querying language for CouchDB databases. Mango wraps several index types, starting with the Primary Index out-of-the-box. Mango indexes, with index type json, are built using MapReduce Views.</p>
<p>Create a new index on a database.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/find.html#post--db-_index</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostIndex</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/find.html#post--db-_index</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get index from database</h3>
<p>When you make a GET request to /db/_index, you get a list of all indexes in the database. In addition to the information available through this API, indexes are also stored in design documents <index-functions>. Design documents are regular documents that have an ID starting with _design/. Design documents can be retrieved and modified in the same way as any other document, although this is not necessary when using Mango.</index-functions>
</p><li>see https://docs.couchdb.org/en/latest/api/database/find.html#get--db-_index</li>

<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databaseGetIndex</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>,<span class="ide">db</span>: <span class="ide">string</span>, <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/find.html#get--db-_index</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Delete index from database</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/find.html#delete--db-_index-designdoc-json-name</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databaseDeleteIndex</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">name</span>: <span class="ide">string</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/find.html#delete--db-_index-designdoc-json-name</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post explain index</h3>
<p>Shows which index is being used by the query. Parameters are the same as _find.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/find.html#post--db-_explain</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostExplain</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/find.html#post--db-_explain</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get database shards</h3>
<p>The response will contain a list of database shards. Each shard will have its internal database range, and the nodes on which replicas of those shards are stored.
Returns information about the specific shard into which a given document has been stored, along with information about the nodes on which that shard has a replica.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/shard.html#get--db-_shards</li>
<li>see https://docs.couchdb.org/en/latest/api/database/shard.html#get--db-_shards-docid</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databaseGetShards</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">docId</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/shard.html#get--db-_shards</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post to sync shards to all replicas</h3>
<p>For the given database, force-starts internal shard synchronization for all replicas of all database shards.
This is typically only used when performing cluster maintenance, such as moving a shard.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/shard.html#post--db-_sync_shards</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostSyncShards</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/shard.html#post--db-_sync_shards</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get sorted list changes document</h3>
<p>Returns a sorted list of changes made to documents in the database, in time order of application, can be obtained from the database’s _changes resource. Only the most recent change for a given document is guaranteed to be provided, for example if a document has had fields added, and then deleted, an API client checking for changes will not necessarily receive the intermediate state of added documents.</p>
<p>This can be used to listen for update and modifications to the database for post processing or synchronization, and for practical purposes, a continuously connected _changes feed is a reasonable approach for generating a real-time log for most applications.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/changes.html#get--db-_changes</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databaseGetChanges</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">docIds</span>: <span class="ide">seq</span>[<span class="ide">string</span>] <span class="op">=</span> <span class="op">@</span>[],<span class="ide">db</span>: <span class="ide">string</span>, <span class="ide">conflicts</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">descending</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">feed</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;normal&quot;</span>, <span class="ide">filter</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">heartbeat</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">60000</span>, <span class="ide">includeDocs</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">attachments</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">attEncodingInfo</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">lastEventId</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">since</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;now&quot;</span>, <span class="ide">style</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;main_only&quot;</span>, <span class="ide">timeout</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">60000</span>, <span class="ide">view</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">seqInterval</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/changes.html#get--db-_changes</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post to get sorted list canges document with larger list</h3>
<p>Requests the database changes feed in the same way as GET /{db}/_changes does, but is widely used with ?filter=_doc_ids query parameter and allows one to pass a larger list of document IDs to filter.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/changes.html#post--db-_changes</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostChanges</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>, <span class="ide">docIds</span>: <span class="ide">seq</span>[<span class="ide">string</span>] <span class="op">=</span> <span class="op">@</span>[],<span class="ide">db</span>: <span class="ide">string</span>, <span class="ide">conflicts</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">descending</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">feed</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;normal&quot;</span>, <span class="ide">filter</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">heartbeat</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">60000</span>, <span class="ide">includeDocs</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">attachments</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">attEncodingInfo</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">lastEventId</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">since</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;now&quot;</span>, <span class="ide">style</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;main_only&quot;</span>, <span class="ide">timeout</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">60000</span>, <span class="ide">view</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">seqInterval</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/changes.html#post--db-_changes</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post to compact/compress database</h3>
<p>Request compaction of the specified database. Compaction compresses the disk database file by performing the following operations:</p>
<p>Writes a new, optimised, version of the database file, removing any unused sections from the new version during write. Because a new file is temporarily created for this purpose, you may require up to twice the current storage space of the specified database in order for the compaction routine to complete.</p>
<p>Removes the bodies of any non-leaf revisions of documents from the database.</p>
<p>Removes old revision history beyond the limit specified by the _revs_limit database parameter.</p>
<p>Compaction can only be requested on an individual database; you cannot compact all the databases for a CouchDB instance. The compaction process runs as a background process.</p>
<p>You can determine if the compaction process is operating on a database by obtaining the database meta information, the compact_running value of the returned database structure will be set to true. See GET /{db}.</p>
<p>You can also obtain a list of running processes to determine whether compaction is currently running. See /_active_tasks.</p>
<p>Compacts the view indexes associated with the specified design document. It may be that compacting a large view can return more storage than compacting the actual db. Thus, you can use this in place of the full database compaction if you know a specific set of view indexes have been affected by a recent database change.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/compact.html#post--db-_compact</li>
<li>see https://docs.couchdb.org/en/latest/api/database/compact.html#post--db-_compact-ddoc</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostCompact</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/compact.html#post--db-_compact</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/compact.html#post--db-_compact-ddoc</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post view  cleanup to remove unused view</h3>
<p>Removes view index files that are no longer required by CouchDB as a result of changed views within design documents. As the view filename is based on a hash of the view functions, over time old views will remain, consuming storage. This call cleans up the cached view output on disk for a given view.</p>
<ul>
<li>https://docs.couchdb.org/en/latest/api/database/compact.html#post--db-_view_cleanup</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostViewCleanup</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/compact.html#post--db-_view_cleanup</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get security option from database</h3>
<p>Returns the current security object from the specified database.</p>
<p>The security object consists of two compulsory elements, admins and members, which are used to specify the list of users and/or roles that have admin and members rights to the database respectively:</p>
<p>members: they can read all types of documents from the DB, and they can write (and edit) documents to the DB except for design documents.</p>
<p>admins: they have all the privileges of members plus the privileges: write (and edit) design documents, add/remove database admins and members and set the database revisions limit. They can not create a database nor delete a database.</p>
<p>Both members and admins objects contain two array-typed fields:</p>
<p>names: List of CouchDB user names</p>
<p>roles: List of users roles</p>
<p>Any additional fields in the security object are optional. The entire security object is made available to validation and other internal functions so that the database can control and limit functionality.</p>
<p>If both the names and roles fields of either the admins or members properties are empty arrays, or are not existent, it means the database has no admins or members.</p>
<p>Having no admins, only server admins (with the reserved _admin role) are able to update design documents and make other admin level changes.</p>
<p>Having no members or roles, any user can write regular documents (any non-design document) and read documents from the database.</p>
<p>Since CouchDB 3.x newly created databases have by default the _admin role to prevent unintentional access.</p>
<p>If there are any member names or roles defined for a database, then only authenticated users having a matching name or role are allowed to read documents from the database (or do a GET /{db} call).</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/security.html#get--db-_security</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databaseGetSecurity</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">db</span>:<span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/security.html#get--db-_security</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Put security</h3>
<p>Sets the security object for the given database.</p>
<ul>
<li>https://docs.couchdb.org/en/latest/api/database/security.html#put--db-_security</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePutSecurity</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/security.html#put--db-_security</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post purge to remove references</h3>
<p>A database purge permanently removes the references to documents in the database. Normal deletion of a document within CouchDB does not remove the document from the database, instead, the document is marked as _deleted=true (and a new revision is created). This is to ensure that deleted documents can be replicated to other databases as having been deleted. This also means that you can check the status of a document and identify that the document has been deleted by its absence.</p>
<p>The purge request must include the document IDs, and for each document ID, one or more revisions that must be purged. Documents can be previously deleted, but it is not necessary. Revisions must be leaf revisions.</p>
<p>The response will contain a list of the document IDs and revisions successfully purged.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/misc.html#post--db-_purge</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostPurge</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>,<span class="ide">db</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/misc.html#post--db-_purge</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get purged infos limit from database</h3>
<p>Gets the current purged_infos_limit (purged documents limit) setting, the maximum number of historical purges (purged document Ids with their revisions) that can be stored in the database.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/misc.html#get--db-_purged_infos_limit</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databaseGetPurgedInfosLimit</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/misc.html#get--db-_purged_infos_limit</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Put purge infos limit to database</h3>
<p>Sets the maximum number of purges (requested purged Ids with their revisions) that will be tracked in the database, even after compaction has occurred. You can set the purged documents limit on a database with a scalar integer of the limit that you want to set as the request body.</p>
<p>The default value of historical stored purges is 1000. This means up to 1000 purges can be synchronized between replicas of the same databases in case of one of the replicas was down when purges occurred.</p>
<p>This request sets the soft limit for stored purges. During the compaction CouchDB will try to keep only _purged_infos_limit of purges in the database, but occasionally the number of stored purges can exceed this value. If a database has not completed purge synchronization with active indexes or active internal replications, it may temporarily store a higher number of historical purges.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/misc.html#put--db-_purged_infos_limit</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePutPurgedInfosLimit</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">db</span>:<span class="ide">string</span>, <span class="ide">purgedInfosLimit</span>: <span class="ide">int</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/misc.html#put--db-_purged_infos_limit</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post missing revs</h3>
<p>With given a list of document revisions, returns the document revisions that do not exist in the database.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/misc.html#post--db-_missing_revs</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostMissingRevs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">db</span>:<span class="ide">string</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/misc.html#post--db-_missing_revs</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post revs diff</h3>
<p>Given a set of document/revision IDs, returns the subset of those that do not correspond to revisions stored in the database.</p>
<p>Its primary use is by the replicator, as an important optimization: after receiving a set of new revision IDs from the source database, the replicator sends this set to the destination database’s _revs_diff to find out which of them already exist there. It can then avoid fetching and sending already-known document bodies.</p>
<p>Both the request and response bodies are JSON objects whose keys are document IDs; but the values are structured differently:</p>
<ul>
<li>
<p>In the request, a value is an array of revision IDs for that document.</p>
</li>
<li>
<p>In the response, a value is an object with a missing: key, whose value is a list of revision IDs for that document (the ones that are not stored in the database) and optionally a possible_ancestors key, whose value is an array of revision IDs that are known that might be ancestors of the missing revisions.</p>
</li>
<li>
<p>see https://docs.couchdb.org/en/latest/api/database/misc.html#post--db-_revs_diff</p>
</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePostRevsDiff</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">db</span>:<span class="ide">string</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/misc.html#post--db-_revs_diff</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get revs limit from database</h3>
<p>Gets the current revs_limit (revision limit) setting.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/misc.html#get--db-_revs_limit</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databaseGetRevsLimit</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/misc.html#get--db-_revs_limit</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Put revs limit to database</h3>
<p>Sets the maximum number of document revisions that will be tracked by CouchDB, even after compaction has occurred. You can set the revision limit on a database with a scalar integer of the limit that you want to set as the request body.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/database/misc.html#put--db-_revs_limit</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">databasePutRevsLimit</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">db</span>:<span class="ide">string</span>, <span class="ide">revsLimit</span>: <span class="ide">int</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/database/misc.html#put--db-_revs_limit</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get document</h3>
<p>Returns document by the specified docid from the specified db. Unless you request a specific revision, the latest revision of the document will always be returned.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/document/common.html#get--db-docid</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">documentGet</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">docId</span>: <span class="ide">string</span>, <span class="ide">attachments</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">attEncodingInfo</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">attsSince</span>: <span class="ide">seq</span>[<span class="ide">string</span>] <span class="op">=</span> <span class="op">@</span>[], <span class="ide">conflicts</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">deletedConflicts</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">latest</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">localSeq</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">meta</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">openRevs</span>: <span class="ide">seq</span>[<span class="ide">string</span>] <span class="op">=</span> <span class="op">@</span>[], <span class="ide">rev</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">revs</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">revsInfo</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/document/common.html#get--db-docid</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Put docuement</h3>
<p>The PUT method creates a new named document, or creates a new revision of the existing document. Unlike the POST /{db}, you must specify the document ID in the request URL.</p>
<p>When updating an existing document, the current document revision must be included in the document (i.e. the request body), as the rev query parameter, or in the If-Match request header.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/document/common.html#put--db-docid</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">documentPut</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">docId</span>: <span class="ide">string</span>, <span class="ide">data</span>: <span class="ide">JsonNode</span>, <span class="ide">rev</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">batch</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">newEdits</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">true</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/document/common.html#put--db-docid</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Put Document with attachment</h3>
<p>To create a document with multiple attachments with single request you need just inline base64 encoded attachments data into the document body.
Alternatively, you can upload a document with attachments more efficiently in multipart/related format. This avoids having to Base64-encode the attachments, saving CPU and bandwidth. To do this, set the Content-Type header of the PUT /{db}/{docid} request to multipart/related.</p>
<p>The first MIME body is the document itself, which should have its own Content-Type of application/json&quot;. It also should include an _attachments metadata object in which each attachment object has a key follows with value true.</p>
<p>The subsequent MIME bodies are the attachments.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/document/common.html#creating-multiple-attachments</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">documentPut</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">docId</span>: <span class="ide">string</span>, <span class="ide">data</span>: <span class="ide">JsonNode</span>, <span class="ide">attachments</span>: <span class="ide">seq</span>[<span class="ide">DocumentAttachment</span>], <span class="ide">rev</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">batch</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">newEdits</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">true</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/document/common.html#creating-multiple-attachments</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Delete document</h3>
<p>Marks the specified document as deleted by adding a field _deleted with the value true. Documents with this field will not be returned within requests anymore, but stay in the database. You must supply the current (latest) revision, either by using the rev parameter or by using the If-Match header to specify the revision.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/document/common.html#delete--db-docid</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">documentDelete</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">docId</span>: <span class="ide">string</span>, <span class="ide">rev</span>: <span class="ide">string</span>, <span class="ide">batch</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/document/common.html#delete--db-docid</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get document attachment</h3>
<p>Returns the file attachment associated with the document. The raw data of the associated attachment is returned (just as if you were accessing a static file. The returned Content-Type will be the same as the content type set when the document attachment was submitted into the database.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/document/attachments.html#get--db-docid-attname</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">documentGetAttachment</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">docId</span>: <span class="ide">string</span>, <span class="ide">attachment</span>: <span class="ide">string</span>, <span class="ide">bytesRange</span>: <span class="kwd">tuple</span>[<span class="ide">start</span>: <span class="ide">int</span>, <span class="ide">stop</span>: <span class="ide">int</span>] <span class="op">=</span> (<span class="num">0</span>, <span class="num">0</span>), <span class="ide">rev</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/document/attachments.html#get--db-docid-attname</span></div></div><div class="line"><div class="line-content">    <span class="com">##  support get range https://datatracker.ietf.org/doc/html/rfc2616.html#section-14.27</span></div></div><div class="line"><div class="line-content">    <span class="com">##  bytesRange = (0, 1000) -&gt; get get from 0 to 1000 range bytes</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Put document attachment</h3>
<p>Uploads the supplied content as an attachment to the specified document. The attachment name provided must be a URL encoded string. You must supply the Content-Type header, and for an existing document you must also supply either the rev query argument or the If-Match HTTP header. If the revision is omitted, a new, otherwise empty document will be created with the provided attachment, or a conflict will occur.</p>
<p>If case when uploading an attachment using an existing attachment name, CouchDB will update the corresponding stored content of the database. Since you must supply the revision information to add an attachment to the document, this serves as validation to update the existing attachment.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/document/attachments.html#put--db-docid-attname</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">documentPutAttachment</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">docId</span>: <span class="ide">string</span>, <span class="ide">attachmentName</span>: <span class="ide">string</span>, <span class="ide">attachment</span>: <span class="ide">string</span>, <span class="ide">contentType</span>: <span class="ide">string</span>, <span class="ide">rev</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/document/attachments.html#put--db-docid-attname</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Delete document attachment</h3>
<p>Deletes the attachment with filename {attname} of the specified doc. You must supply the rev query parameter or If-Match with the current revision to delete the attachment.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/document/attachments.html#put--db-docid-attname</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">documentDeleteAttachment</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">docId</span>: <span class="ide">string</span>, <span class="ide">attachmentName</span>: <span class="ide">string</span>, <span class="ide">rev</span>: <span class="ide">string</span>, <span class="ide">batch</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/document/attachments.html#put--db-docid-attname</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get design document view</h3>
<p>Executes the specified view function from the specified design document.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/common.html#put--db-_design-ddoc</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentGetView</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">view</span>: <span class="ide">string</span>, <span class="ide">conflicts</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">descending</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">endkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">endkeyDocId</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">group</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">groupLevel</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">includeDocs</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">attachments</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">attEncodingInfo</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">inclusiveEnd</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">true</span>, <span class="ide">key</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">keys</span>: <span class="ide">seq</span>[<span class="ide">JsonNode</span>] <span class="op">=</span> <span class="op">@</span>[], <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">reduce</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">true</span>, <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">sorted</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">true</span>, <span class="ide">stable</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">stale</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">startkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">startkeyDocId</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">update</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;true&quot;</span>, <span class="ide">updateSeq</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/common.html#put--db-_design-ddoc</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post design document view</h3>
<p>Executes the specified view function from the specified design document. POST view functionality supports identical parameters and behavior as specified in the GET /{db}/_design/{ddoc}/_view/{view} API but allows for the query string parameters to be supplied as keys in a JSON object in the body of the POST request.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/views.html#post--db-_design-ddoc-_view-view</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentPostView</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">view</span>:<span class="ide">string</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/views.html#post--db-_design-ddoc-_view-view</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post design document view queries</h3>
<p>Executes the specified view function from the specified design document. POST view functionality supports identical parameters and behavior as specified in the GET /{db}/_design/{ddoc}/_view/{view} API but allows for the query string parameters to be supplied as keys in a JSON object in the body of the POST request.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/views.html#post--db-_design-ddoc-_view-view-queries</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentPostViewQueries</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">view</span>:<span class="ide">string</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/views.html#post--db-_design-ddoc-_view-view-queries</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get design document search</h3>
<p>Executes a search request against the named index in the specified design document.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/search.html#get--db-_design-ddoc-_search-index</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentGetSearch</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">index</span>: <span class="ide">string</span>, <span class="ide">bookmark</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">counts</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">drilldown</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">groupField</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">groupSort</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">highlightFields</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">highlightPreTag</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">highlightPostTag</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">highlightNumber</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">highlightSize</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">includeDocs</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">includeFields</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">query</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">ranges</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">sort</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">stale</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/search.html#get--db-_design-ddoc-_search-index</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get design document search info</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/search.html#get--db-_design-ddoc-_search_info-index</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentGetSearchInfo</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">index</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/search.html#get--db-_design-ddoc-_search_info-index</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post design document update func</h3>
<p>Executes update function on server side for null document.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/render.html#post--db-_design-ddoc-_update-func</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentPostUpdateFunc</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">function</span>: <span class="ide">string</span>, <span class="ide">docId</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/render.html#post--db-_design-ddoc-_update-func</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Put design document update func</h3>
<p>Executes update function on server side for the specified document.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/render.html#put--db-_design-ddoc-_update-func-docid</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentPostUpdateFunc</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">function</span>: <span class="ide">string</span>, <span class="ide">docId</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/render.html#put--db-_design-ddoc-_update-func-docid</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get partition database</h3>
<p>This endpoint returns information describing the provided partition. It includes document and deleted document counts along with external and active data sizes.</p>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/partitioned-dbs.html#get--db-_partition-partition</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">partitionDatabaseGet</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">partition</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/partitioned-dbs.html#get--db-_partition-partition</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get partition database all docs</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/partitioned-dbs.html#get--db-_partition-partition-_all_docs</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">partitionDatabaseGetAllDocs</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">partition</span>: <span class="ide">string</span>, <span class="ide">descending</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">startkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">endkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/partitioned-dbs.html#get--db-_partition-partition-_all_docs</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get partition database design view</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/partitioned-dbs.html#get--db-_partition-partition-_design-ddoc-_view-view</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">partitionDatabaseGetDesignView</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">partition</span>: <span class="ide">string</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">view</span>: <span class="ide">string</span>, <span class="ide">descending</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">startkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">endkey</span>: <span class="ide">JsonNode</span> <span class="op">=</span> <span class="kwd">nil</span>, <span class="ide">skip</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>, <span class="ide">limit</span>: <span class="ide">int</span> <span class="op">=</span> <span class="num">0</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/partitioned-dbs.html#get--db-_partition-partition-_design-ddoc-_view-view</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post partition database find</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/partitioned-dbs.html#post--db-_partition-partition_id-_find</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">partitionDatabasePostFind</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">partition</span>: <span class="ide">string</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/partitioned-dbs.html#post--db-_partition-partition_id-_find</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Post partition database explain</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/partitioned-dbs.html#post--db-_partition-partition_id-_explain</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">partitionDatabasePostExplain</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">partition</span>: <span class="ide">string</span>, <span class="ide">jsonData</span>: <span class="ide">JsonNode</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div><div class="line"><div class="line-content">    <span class="com">##  https://docs.couchdb.org/en/latest/api/partitioned-dbs.html#post--db-_partition-partition_id-_explain</span></div></div><div class="line"><div class="line-content">    <span class="com">##</span></div></div>  </code></pre>
<h3>Get design document</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/common.html#get--db-_design-ddoc</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentGet</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">attachments</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">attEncodingInfo</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">attsSince</span>: <span class="ide">seq</span>[<span class="ide">string</span>] <span class="op">=</span> <span class="op">@</span>[], <span class="ide">conflicts</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">deletedConflicts</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">latest</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">localSeq</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">meta</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">openRevs</span>: <span class="ide">seq</span>[<span class="ide">string</span>] <span class="op">=</span> <span class="op">@</span>[], <span class="ide">rev</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">revs</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">revsInfo</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div><div class="line"><div class="line-content">  <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/common.html#get--db-_design-ddoc</span></div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div>  </code></pre>
<h3>Put design document</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/common.html#put--db-_design-ddoc</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentPut</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">data</span>: <span class="ide">JsonNode</span>, <span class="ide">rev</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">batch</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">newEdits</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">true</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div><div class="line"><div class="line-content">  <span class="com">##  https://docs.couchdb.org/en/latest/api/document/common.html#put--db-docid</span></div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div>  </code></pre>
<h3>Put design document</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/common.html#put--db-_design-ddoc</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentPut</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">data</span>: <span class="ide">JsonNode</span>, <span class="ide">attachments</span>: <span class="ide">seq</span>[<span class="ide">DocumentAttachment</span>], <span class="ide">rev</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>, <span class="ide">batch</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>, <span class="ide">newEdits</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">true</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div><div class="line"><div class="line-content">  <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/common.html#put--db-_design-ddoc</span></div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div>  </code></pre>
<h3>Delete design document</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/common.html#delete--db-_design-ddoc</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentDelete</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">rev</span>: <span class="ide">string</span>, <span class="ide">batch</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div><div class="line"><div class="line-content">  <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/common.html#delete--db-_design-ddoc</span></div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div>  </code></pre>
<h3>Get design document attachment</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/common.html#get--db-_design-ddoc-attname</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentGetAttachment</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">attachment</span>: <span class="ide">string</span>, <span class="ide">bytesRange</span>: <span class="kwd">tuple</span>[<span class="ide">start</span>: <span class="ide">int</span>, <span class="ide">stop</span>: <span class="ide">int</span>] <span class="op">=</span> (<span class="num">0</span>, <span class="num">0</span>), <span class="ide">rev</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div><div class="line"><div class="line-content">  <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/common.html#get--db-_design-ddoc-attname</span></div></div><div class="line"><div class="line-content">  <span class="com">##  support get range https://datatracker.ietf.org/doc/html/rfc2616.html#section-14.27</span></div></div><div class="line"><div class="line-content">  <span class="com">##  bytesRange = (0, 1000) -&gt; get get from 0 to 1000 range bytes</span></div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div>  </code></pre>
<h3>Put design document attachment</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/common.html#put--db-_design-ddoc-attname</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentPutAttachment</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">attachmentName</span>: <span class="ide">string</span>, <span class="ide">attachment</span>: <span class="ide">string</span>, <span class="ide">contentType</span>: <span class="ide">string</span>, <span class="ide">rev</span>: <span class="ide">string</span> <span class="op">=</span> <span class="str">&quot;&quot;</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div><div class="line"><div class="line-content">  <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/common.html#put--db-_design-ddoc-attname</span></div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div>  </code></pre>
<h3>Delete design document attachment</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/common.html#delete--db-_design-ddoc-attname</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentDeleteAttachment</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>, <span class="ide">attachmentName</span>: <span class="ide">string</span>, <span class="ide">rev</span>: <span class="ide">string</span>, <span class="ide">batch</span>: <span class="ide">bool</span> <span class="op">=</span> <span class="ide">false</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div><div class="line"><div class="line-content">  <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/common.html#delete--db-_design-ddoc-attname</span></div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div>  </code></pre>
<h3>Get design document info</h3>
<ul>
<li>see https://docs.couchdb.org/en/latest/api/ddoc/common.html#get--db-_design-ddoc-_info</li>
</ul>
<pre>  <code class="language-nim"><div class="line"><div class="line-content"><span class="kwd">proc</span> <span class="ide">designDocumentGetInfo</span><span class="op">*</span>(<span class="ide">self</span>: <span class="ide">CouchDb</span>, <span class="ide">ddoc</span>: <span class="ide">string</span>): <span class="ide">Future</span>[<span class="ide">JsonNode</span>] {<span class="op">.</span><span class="ide">async</span><span class="op">.</span>}</div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div><div class="line"><div class="line-content">  <span class="com">##  https://docs.couchdb.org/en/latest/api/ddoc/common.html#get--db-_design-ddoc-_info</span></div></div><div class="line"><div class="line-content">  <span class="com">##</span></div></div>  </code></pre>
</document>
            
        </div>
        <div class="col-3" id="meta-section">
            <div class="container box rounded p-3">
                
                    <p>
                        <strong>Licence:</strong>
                        BSD
                    </p>
                

                
                    <p> <a href="https://github.com/zendbit/nim_couchdbapi">Project website</a> </p>
                

                
            </div>
        </div>
    </div>
</div>
</div>

<footer class="pt-10 px-3">
  <div class="container pt-4">
    <div class="row mb-4">
      <div class="col-lg-3">
        <h4 class="h5">Getting started with Nim</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://learnxinyminutes.com/docs/nim/">Learn Nim in 5 minutes</a></li>
          <li><a class="text-decoration-none" href="https://nim-by-example.github.io/">Nim by Example</a></li>
          <li><a class="text-decoration-none" href="https://play.nim-lang.org/">Official Playground</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Official Tutorials</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut1.html">General Tutorial</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut2.html">Advanced Features</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tut3.html">Macros and Metaprogramming</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Nim for...</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-C-programmers">C programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers">Python programmers</a></li>
          <li><a class="text-decoration-none" href="https://github.com/nim-lang/Nim/wiki/Nim-for-TypeScript-Programmers">TypeScript programmers</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h4 class="h5">Documentation</h4>
        <ul>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/lib.html">Standard Library</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/manual.html">Language Manual</a></li>
          <li><a class="text-decoration-none" href="https://nim-lang.org/docs/tools.html">Tools Documentation</a></li>
        </ul>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 text-center mt-4 mx-auto">
        <a href="#" class="d-block mb-3 mx-auto bw"></a>
        <p class="text-muted">
        Created in <a href="https://nim-lang.org/">Nim</a> on <a href="https://pages.github.com/">GitHub Pages</a>.
        <a href="https://github.com/gabbhack/nimidirectory">Available</a>
        under <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Version_3">GPLv3</a>
        </p>
        <p class="text-muted">
        Builded at 2024-03-23T01:06:12Z
        </p>
      </div>
    </div>
  </div>
</footer>
<script>
</script>
</body>
</html>
